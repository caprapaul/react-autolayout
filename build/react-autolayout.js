!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactAutoLayout=e(require("react")):t.ReactAutoLayout=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="build/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(t)throw new Error("Invariant Violation: "+e)}function o(){var t={};return Array.prototype.slice.call(arguments).forEach(function(e){for(var n in e)"top"!==n&&"left"!==n&&e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function l(t,e){var n={},r=void 0,i=void 0,s=void 0,a=void 0,l=void 0,u=t.layouts[e.format].constrainTo.split(".");if("viewport"!=t.layouts[e.format].constrainTo[0]&&u[0]in A){var c=u[0],h=u[1],f=A[c][h].style,p=V[c][h].borderWidth,d=V[c][h].borderHeight;"format"in V[c][h]&&e.format in V[c][h].format&&(p=V[c][h].format[e.format].borderWidth,d=V[c][h].format[e.format].borderHeight),t.view.setSize(f.width-p,f.height-d)}else t.view.setSize(window.innerWidth,window.innerHeight);n[t.viewName]={},n[t.viewName].currentFormat=e.format;for(var v in t.view.subViews){var g=void 0;t.view.subViews.hasOwnProperty(v)&&"_"!==v[0]&&(r=t.view.subViews[v],i=r.width,s=r.height,a=r.top,l=r.left,g={width:i,height:s,transform:"translate3d("+l+"px, "+a+"px, 0)",position:"absolute",padding:0,margin:0},n[t.viewName][v]=o({style:g,parentView:t.viewName,_top:a,_left:l,format:e.format,view:v}))}return n}function u(t,e,n){for(var r=void 0,i=0,s=x.length;s>i;i++)r=x[i].query(A,x[i].currentFormat),x[i].currentFormat!==r.format&&(x[i].view=new m["default"].View,x[i].view.addConstraints(x[i].layouts[r.format].constraints)),x[i].currentFormat=r.format,A=o(A,l(x[i],r));for(var a in _)_.hasOwnProperty(a)&&_[a]()}function c(t,e,n){var r=void 0,i=e||0,s=n||0,a=void 0;return"border"in t?(r=t.border.match(C),i=2*r[0],s=2*r[0]):"borderTop"in t||"borderBottom"in t?(s=0,"borderTop"in t&&(r=t.borderTop.match(C),s+=r[0]),"borderBottom"in t&&(r=t.borderBottom.match(C),s+=r[0])):"borderRight"in t||"borderLeft"in t?(i=0,"borderRight"in t&&(r=t.borderRight.match(C),i+=r[0]),"borderLeft"in t&&(r=t.borderLeft.match(C),i+=r[0])):"borderWidth"in t?(r=t.borderWidth.match(C),a=r.length,1===a&&(i=2*r[0],s=2*r[0]),2===a&&(i=2*r[1],s=2*r[0]),3===a&&(i=2*r[1],s=r[0]*r[2]),4===a&&(i=r[1]*r[4],s=r[0]*r[2])):"borderTopWidth"in t||"borderBottomWidth"in t?(s=0,"borderTopWidth"in t&&(r=t.borderTopWidth.match(C),s+=r[0]),"borderBottomWidth"in t&&(r=t.borderBottomWidth.match(C),s+=r[0])):("borderRightWidth"in t||"borderLeftWidth"in t)&&(i=0,"borderRightWidth"in t&&(r=t.borderRightWidth.match(C),i+=r[0]),"borderLeftWidth"in t&&(r=t.borderLeftWidth.match(C),i+=r[0])),{width:i,height:s}}function h(t,e){var n=t.props.name,r=void 0;a(void 0===n,"name is required!"),a(n in E,n+" name must be unique."),V[n]={};var i=y["default"].Children.toArray(t.props.children);i.forEach(function(t){if(V[n][t.props.viewKey]={},V[n][t.props.viewKey].borderWidth=0,V[n][t.props.viewKey].borderHeight=0,"style"in t.props){var e=c(t.props.style),r=e.width,i=e.height;V[n][t.props.viewKey].borderWidth=r,V[n][t.props.viewKey].borderHeight=i}if("formatStyle"in t.props){V[n][t.props.viewKey].format=V[n][t.props.viewKey].format||{};for(var s in t.props.formatStyle)if(t.props.formatStyle.hasOwnProperty(s)){V[n][t.props.viewKey].format[s]={};var a=c(t.props.formatStyle[s],V[n][t.props.viewKey].borderWidth,V[n][t.props.viewKey].borderHeight),r=a.width,i=a.height;V[n][t.props.viewKey].format[s].borderWidth=r,V[n][t.props.viewKey].format[s].borderHeight=i}}}),_[n]=function(){t.forceUpdate()},E[n]={},E[n].query=e.query,E[n].layouts=e.layouts,E[n].viewName=n,E[n].view=new m["default"].View,r=e.query(A),E[n].currentFormat=r.format;for(var s in e.layouts)e.layouts.hasOwnProperty(s)&&(E[n].layouts[s].constraints=m["default"].VisualFormat.parse(e.layouts[s].format,{extended:!0}));E[n].view.addConstraints(E[n].layouts[r.format].constraints),A=o(A,l(E[n],r)),x.push(E[n]);for(var h=0,f=x.length;f>h;h++)A=o(A,l(x[h],{format:x[h].currentFormat}));u()}function f(t){t in _&&delete _[t],t in A&&delete A[t],t in E&&(E[t].view=null,delete E[t]),x=x.filter(function(e){return e.viewName!==t}),u()}function p(t,e){var n=t&&e?e.props.viewKey:void 0;return void 0!==n&&t in A&&n in A[t]?A[t][n].style:void 0}function d(t){return void 0!==t&&null!==t&&t in A?A[t].currentFormat:void 0}Object.defineProperty(e,"__esModule",{value:!0});var v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t,e,n){for(var r=!0;r;){var i=t,s=e,a=n;o=u=l=void 0,r=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,s);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;t=u,e=s,n=a,r=!0}};n(5);var b=n(1),m=r(b),w=n(6),y=r(w),_={},E={},x=[],A={},V={},C=/\d+\.?\d?(?=(px))?/g;window.addEventListener("resize",u);var S=function(t){function e(t){i(this,e),g(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return s(e,t),v(e,[{key:"componentWillMount",value:function(){h(this,{query:this.props.query,layouts:this.props.layout})}},{key:"componentWillUnmount",value:function(){f(this.props.name)}},{key:"render",value:function(){var t=this.props.name,e=this.props.tag||"div",n=y["default"].Children.map(this.props.children,function(e){var n=p(t,e);if(void 0===n)return e;if("formatStyle"in e.props){var r=d(t);if(void 0!==r&&r in e.props.formatStyle)return y["default"].cloneElement(e,{style:o(e.props.style,e.props.formatStyle[r],n)})}return y["default"].cloneElement(e,{style:o(e.props.style,n)})});return y["default"].createElement(e,null,n)}}]),e}(y["default"].Component);e["default"]=S,t.exports=e["default"]},function(t,e,n){var r,r;!function(e){t.exports=e()}(function(){return function t(e,n,i){function s(o,l){if(!n[o]){if(!e[o]){var u="function"==typeof r&&r;if(!l&&u)return r(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[o]={exports:{}};e[o][0].call(h.exports,function(t){var n=e[o][1][t];return s(n?n:t)},h,h.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof r&&r,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var n="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:n,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:n,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:n,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:b.EQU,view2:null,attr2:g.CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var r=0;r<t.prevViews.length;r++){var i=t.prevViews[r];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function s(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var n="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:n,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var r=0;r<t.prevViews.length;r++){var i=t.prevViews[r];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function a(t,e,n){for(var r=void 0,i=1;4>=i;i*=2)if(n.orientations&i&&n.stack.orientation!==i&&!(n.stack.processedOrientations&i)){n.stack.processedOrientations=n.stack.processedOrientations|i,r=r||{name:e,type:"stack"};for(var s=0,a=n.stack.subViews.length;a>s;s++)i===_.ZINDEX?t.constraints.push({view1:r,attr1:g.ZINDEX,relation:b.EQU,view2:n.stack.subViews[s],attr2:g.ZINDEX}):(t.constraints.push({view1:r,attr1:i===_.VERTICAL?g.HEIGHT:g.WIDTH,relation:b.EQU,view2:n.stack.subViews[s],attr2:i===_.VERTICAL?g.HEIGHT:g.WIDTH}),t.constraints.push({view1:r,attr1:i===_.VERTICAL?g.TOP:g.LEFT,relation:b.EQU,view2:n.stack.subViews[s],attr2:i===_.VERTICAL?g.TOP:g.LEFT}))}}function o(t,e){if(e===!0&&(e=t.match(/\.\.\d+$/),e&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2)))),!e)return[t];var n,r=t.match(/\d+$/),i=[];if(r)for(t=t.substring(0,t.length-r[0].length),n=parseInt(r);e>=n;n++)i.push(t+n);else for(i.push(t),n=2;e>=n;n++)i.push(t+n);return i}function l(t,e,n){var r=n?n.view:null,u=[],c=[],h=void 0;r&&(e.push({view:r}),c.push(r));for(var f=0;f<e.length;f++){var p=e[f];if(!Array.isArray(p)&&p.hasOwnProperty("view")||Array.isArray(p)&&p[0].view&&!p[0].relation)for(var d=Array.isArray(p)?p:[p],v=0;v<d.length;v++){p=d[v];for(var b=","===p?[]:p.view?o(p.view,p.range):[null],m=0;m<b.length;m++){var w=b[m];if(c.push(w),w!==r&&(u.push(w),h=t.subViews[w],h||(h={orientations:0},t.subViews[w]=h),h.orientations=h.orientations|t.orientation,h.stack&&a(t,w,h)),void 0!==t.prevViews&&void 0!==w&&t.relation&&"none"!==t.relation.relation)for(var y=0;y<t.prevViews.length;y++){var E=t.prevViews[y];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=E!==r?g.RIGHT:g.LEFT,t.curAttr=w!==r?g.LEFT:g.RIGHT;break;case _.VERTICAL:t.prevAttr=E!==r?g.BOTTOM:g.TOP,t.curAttr=w!==r?g.TOP:g.BOTTOM;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=E!==r?"default":0}t.constraints.push({view1:E,attr1:t.prevAttr,relation:t.relation.relation,view2:w,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var x=p.constraints;if(x)for(var A=0;A<x.length;A++)t.prevAttr=t.horizontal?g.WIDTH:g.HEIGHT,t.curAttr=x[A].view||x[A].multiplier?x[A].attribute||t.prevAttr:x[A].variable?g.VARIABLE:g.CONST,t.constraints.push({view1:w,attr1:t.prevAttr,relation:x[A].relation,view2:x[A].view,attr2:t.curAttr,multiplier:x[A].multiplier,constant:x[A].constant,priority:x[A].priority});p.cascade&&l(t,p.cascade,p)}}else","!==p&&(t.prevViews=c,c=[],t.relation=p[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&i(t,r),t.relation.multiplier&&s(t,r)))}if(r){if(h=t.subViews[r]){if(h.stack){var V=new Error('A stack named "'+r+'" has already been created');throw V.column=n.$parserOffset+1,V}}else h={orientations:t.orientation},t.subViews[r]=h;h.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:u},a(t,r,h)}}function u(t,e){var n,n=new v.Variable({value:e});return this._solver.addConstraint(new v.StayConstraint(n,v.Strength.required,0)),n}function c(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new A({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new A({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function h(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new v.Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=v.minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function f(t){var e=void 0,n=void 0!==t.multiplier?t.multiplier:1,r=void 0!==t.constant?t.constant:0;"default"===r&&(r=h.call(this,t));var i,s=c.call(this,t.view1)._getAttr(t.attr1),a=void 0;t.attr2===g.CONST?a=u.call(this,void 0,t.constant):(a=c.call(this,t.view2)._getAttr(t.attr2),1!==n&&r?a=v.plus(v.times(a,n),r):r?a=v.plus(a,r):1!==n&&(a=v.times(a,n)));var i=void 0!==t.priority&&t.priority<1e3?new v.Strength("priority",0,t.priority,1e3):V;switch(t.relation){case b.EQU:e=new v.Equation(s,a,i);break;case b.GEQ:e=new v.Inequality(s,v.GEQ,a,i);break;case b.LEQ:e=new v.Inequality(s,v.LEQ,a,i);break;default:throw"Invalid relation specified: "+t.relation}this._solver.addConstraint(e)}function p(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var n=0;7>n;n++)if(t[n]!==e[n])return!1;return!0}var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=t("cassowary/bin/c"),g={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"},b={LEQ:"leq",EQU:"equ",GEQ:"geq"},m={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250},w=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i,s){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=s,this.name="SyntaxError"}function n(t){function n(){return Rt}function r(e){function n(e,n,r){var i,s;for(i=n;r>i;i++)s=t.charAt(i),"\n"===s?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return kt!==e&&(kt>e&&(kt=0,zt={line:1,column:1,seenCR:!1}),n(zt,kt,e),kt=e),zt}function i(t){Ht>Ot||(Ot>Ht&&(Ht=Ot,Nt=[]),Nt.push(t))}function s(n,i,s){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,s,a=new Array(t.length);for(s=0;s<t.length;s++)a[s]=t[s].description;return r=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}var l=r(s),u=s<t.length?t.charAt(s):null;return null!==i&&a(i),new e(null!==n?n:o(i,u),i,u,s,l.line,l.column)}function a(){var e,n,r,s,a,h,f,p;if(e=Ot,n=Ot,r=o(),r!==A?(58===t.charCodeAt(Ot)?(s=T,Ot++):(s=A,0===Lt&&i(O)),s!==A?(r=[r,s],n=r):(Ot=n,n=S)):(Ot=n,n=S),n===A&&(n=I),n!==A)if(r=Ot,s=l(),s!==A?(a=c(),a!==A?(s=[s,a],r=s):(Ot=r,r=S)):(Ot=r,r=S),r===A&&(r=I),r!==A)if(s=u(),s!==A){for(a=[],h=Ot,f=c(),f!==A?(p=u(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S);h!==A;)a.push(h),h=Ot,f=c(),f!==A?(p=u(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S);a!==A?(h=Ot,f=c(),f!==A?(p=l(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S),h===A&&(h=I),h!==A?(Rt=e,n=R(n,r,s,a,h),e=n):(Ot=e,e=S)):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;else Ot=e,e=S;return e}function o(){var e,n;return e=Ot,72===t.charCodeAt(Ot)?(n=k,Ot++):(n=A,0===Lt&&i(z)),n===A&&(86===t.charCodeAt(Ot)?(n=H,Ot++):(n=A,0===Lt&&i(N))),n!==A&&(Rt=e,n=L(n)),e=n}function l(){var e,n;return e=Ot,124===t.charCodeAt(Ot)?(n=q,Ot++):(n=A,0===Lt&&i(M)),n!==A&&(Rt=e,n=j()),e=n}function u(){var e,n,r,s,a;return e=Ot,91===t.charCodeAt(Ot)?(n=F,Ot++):(n=A,0===Lt&&i(P)),n!==A?(r=w(),r!==A?(s=p(),s===A&&(s=I),s!==A?(93===t.charCodeAt(Ot)?(a=W,Ot++):(a=A,0===Lt&&i(D)),a!==A?(Rt=e,n=U(r,s),e=n):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e}function c(){var e,n,r,s;return e=Ot,45===t.charCodeAt(Ot)?(n=Z,Ot++):(n=A,0===Lt&&i(G)),n!==A?(r=h(),r!==A?(45===t.charCodeAt(Ot)?(s=Z,Ot++):(s=A,0===Lt&&i(G)),s!==A?(Rt=e,n=X(r),e=n):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e===A&&(e=Ot,45===t.charCodeAt(Ot)?(n=Z,Ot++):(n=A,0===Lt&&i(G)),n!==A&&(Rt=e,n=B()),e=n,e===A&&(e=Ot,n=Q,n!==A&&(Rt=e,n=K()),e=n)),e}function h(){var t;return t=f(),t===A&&(t=p()),t}function f(){var t,e;return t=Ot,e=y(),e!==A&&(Rt=t,e=J(e)),t=e}function p(){var e,n,r,s,a,o,l;if(e=Ot,40===t.charCodeAt(Ot)?(n=$,Ot++):(n=A,0===Lt&&i(Y)),n!==A)if(r=d(),r!==A){for(s=[],a=Ot,44===t.charCodeAt(Ot)?(o=tt,Ot++):(o=A,0===Lt&&i(et)),o!==A?(l=d(),l!==A?(o=[o,l],a=o):(Ot=a,a=S)):(Ot=a,a=S);a!==A;)s.push(a),a=Ot,44===t.charCodeAt(Ot)?(o=tt,Ot++):(o=A,0===Lt&&i(et)),o!==A?(l=d(),l!==A?(o=[o,l],a=o):(Ot=a,a=S)):(Ot=a,a=S);s!==A?(41===t.charCodeAt(Ot)?(a=nt,Ot++):(a=A,0===Lt&&i(rt)),a!==A?(Rt=e,n=it(r,s),e=n):(Ot=e,e=S)):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;return e}function d(){var e,n,r,s,a,o;return e=Ot,n=v(),n===A&&(n=I),n!==A?(r=g(),r!==A?(s=Ot,64===t.charCodeAt(Ot)?(a=st,Ot++):(a=A,0===Lt&&i(at)),a!==A?(o=b(),o!==A?(a=[a,o],s=a):(Ot=s,s=S)):(Ot=s,s=S),s===A&&(s=I),s!==A?(Rt=e,n=ot(n,r,s),e=n):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e}function v(){var e,n;return e=Ot,t.substr(Ot,2)===lt?(n=lt,Ot+=2):(n=A,0===Lt&&i(ut)),n!==A&&(Rt=e,n=ct()),e=n,e===A&&(e=Ot,t.substr(Ot,2)===ht?(n=ht,Ot+=2):(n=A,0===Lt&&i(ft)),n!==A&&(Rt=e,n=pt()),e=n,e===A&&(e=Ot,t.substr(Ot,2)===dt?(n=dt,Ot+=2):(n=A,0===Lt&&i(vt)),n!==A&&(Rt=e,n=gt()),e=n)),e}function g(){var t;return t=m(),t===A&&(t=w()),t}function b(){var e,n,r;if(e=Ot,n=[],bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt)),r!==A)for(;r!==A;)n.push(r),bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt));else n=S;return n!==A&&(Rt=e,n=wt(n)),e=n}function m(){var t,e;return t=Ot,e=y(),e!==A&&(Rt=t,e=yt(e)),t=e}function w(){var e,n,r,s,a;if(e=Ot,n=Ot,r=[],_t.test(t.charAt(Ot))?(s=t.charAt(Ot),Ot++):(s=A,0===Lt&&i(Et)),s!==A)for(;s!==A;)r.push(s),_t.test(t.charAt(Ot))?(s=t.charAt(Ot),Ot++):(s=A,0===Lt&&i(Et));else r=S;if(r!==A&&(r=t.substring(n,Ot)),n=r,n!==A){for(r=Ot,s=[],xt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===Lt&&i(At));a!==A;)s.push(a),xt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===Lt&&i(At));s!==A&&(s=t.substring(r,Ot)),r=s,r!==A?(Rt=e,n=Vt(n,r),e=n):(Ot=e,e=S)}else Ot=e,e=S;return e}function y(){var e,n,r,s,a;if(e=Ot,n=[],bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt)),r!==A)for(;r!==A;)n.push(r),bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt));else n=S;if(n!==A)if(46===t.charCodeAt(Ot)?(r=Ct,Ot++):(r=A,0===Lt&&i(St)),r!==A){if(s=[],bt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===Lt&&i(mt)),a!==A)for(;a!==A;)s.push(a),bt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===Lt&&i(mt));else s=S;s!==A?(Rt=e,n=It(n,s),e=n):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;if(e===A){if(e=Ot,n=[],bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt)),r!==A)for(;r!==A;)n.push(r),bt.test(t.charAt(Ot))?(r=t.charAt(Ot),Ot++):(r=A,0===Lt&&i(mt));else n=S;n!==A&&(Rt=e,n=Tt(n)),e=n}return e}function _(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var E,x=arguments.length>1?arguments[1]:{},A={},V={visualFormatString:a},C=a,S=A,I=null,T=":",O={type:"literal",value:":",description:'":"'},R=function(t,e,n,r,i){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([n],[].concat.apply([],r),i||[])}},k="H",z={type:"literal",value:"H",description:'"H"'},H="V",N={type:"literal",value:"V",description:'"V"'},L=function(t){return"H"==t?"horizontal":"vertical"},q="|",M={type:"literal",value:"|",description:'"|"'},j=function(){return{view:null}},F="[",P={type:"literal",value:"[",description:'"["'},W="]",D={type:"literal",value:"]",description:'"]"'},U=function(t,e){return _(t,e?{constraints:e}:{})},Z="-",G={type:"literal",value:"-",description:'"-"'},X=function(t){return t},B=function(){return[{relation:"equ",constant:"default",$parserOffset:n()}]},Q="",K=function(){return[{relation:"equ",constant:0,$parserOffset:n()}]},J=function(t){return[{relation:"equ",constant:t,$parserOffset:n()}]},$="(",Y={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},nt=")",rt={type:"literal",value:")",description:'")"'},it=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},st="@",at={type:"literal",value:"@",description:'"@"'},ot=function(t,e,n){return _({relation:"equ"},t||{},e,n?n[1]:{})},lt="==",ut={type:"literal",value:"==",description:'"=="'},ct=function(){return{relation:"equ",$parserOffset:n()}},ht="<=",ft={type:"literal",value:"<=",description:'"<="'},pt=function(){return{relation:"leq",$parserOffset:n()}},dt=">=",vt={type:"literal",value:">=",description:'">="'},gt=function(){return{relation:"geq",$parserOffset:n()}},bt=/^[0-9]/,mt={type:"class",value:"[0-9]",description:"[0-9]"},wt=function(t){return{priority:parseInt(t.join(""),10)}},yt=function(t){return{constant:t}},_t=/^[a-zA-Z_]/,Et={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},xt=/^[a-zA-Z0-9_]/,At={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Vt=function(t,e){return{view:t+e}},Ct=".",St={type:"literal",value:".",description:'"."'},It=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Tt=function(t){return parseInt(t.join(""),10)},Ot=0,Rt=0,kt=0,zt={line:1,column:1,seenCR:!1},Ht=0,Nt=[],Lt=0;if("startRule"in x){if(!(x.startRule in V))throw new Error("Can't start parsing from rule \""+x.startRule+'".');C=V[x.startRule]}if(E=C(),E!==A&&Ot===t.length)return E;throw E!==A&&Ot<t.length&&i({type:"end",description:"end of input"}),s(null,Nt,Ht)}return t(e,Error),{SyntaxError:e,parse:n}}(),y=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i,s){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=s,this.name="SyntaxError"}function n(t){function n(){return $e}function r(e){function n(e,n,r){var i,s;for(i=n;r>i;i++)s=t.charAt(i),"\n"===s?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return Ye!==e&&(Ye>e&&(Ye=0,tn={line:1,column:1,seenCR:!1}),n(tn,Ye,e),Ye=e),tn}function i(t){en>Je||(Je>en&&(en=Je,nn=[]),nn.push(t))}function s(n,i,s){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,s,a=new Array(t.length);for(s=0;s<t.length;s++)a[s]=t[s].description;return r=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}var l=r(s),u=s<t.length?t.charAt(s):null;return null!==i&&a(i),new e(null!==n?n:o(i,u),i,u,s,l.line,l.column)}function a(){var e,n,r,s,a,h,f,d;if(e=Je,n=Je,r=o(),r!==L?(58===t.charCodeAt(Je)?(s=P,Je++):(s=L,0===rn&&i(W)),s!==L?(r=[r,s],n=r):(Je=n,n=j)):(Je=n,n=j),n===L&&(n=F),n!==L)if(r=Je,s=u(),s!==L?(a=p(),a!==L?(s=[s,a],r=s):(Je=r,r=j)):(Je=r,r=j),r===L&&(r=F),r!==L)if(s=c(),s!==L){for(a=[],h=Je,f=p(),f!==L?(d=c(),d!==L?(f=[f,d],h=f):(Je=h,h=j)):(Je=h,h=j);h!==L;)a.push(h),h=Je,f=p(),f!==L?(d=c(),d!==L?(f=[f,d],h=f):(Je=h,h=j)):(Je=h,h=j);a!==L?(h=Je,f=p(),f!==L?(d=u(),d!==L?(f=[f,d],h=f):(Je=h,h=j)):(Je=h,h=j),h===L&&(h=F),h!==L?(f=l(),f===L&&(f=F),f!==L?($e=e,n=D(n,r,s,a,h,f),e=n):(Je=e,e=j)):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;else Je=e,e=j;return e}function o(){var e,n;return e=Je,t.substr(Je,2)===U?(n=U,Je+=2):(n=L,0===rn&&i(Z)),n!==L&&($e=e,n=G()),e=n,e===L&&(e=Je,72===t.charCodeAt(Je)?(n=X,Je++):(n=L,0===rn&&i(B)),n!==L&&($e=e,n=Q()),e=n,e===L&&(e=Je,86===t.charCodeAt(Je)?(n=K,Je++):(n=L,0===rn&&i(J)),n!==L&&($e=e,n=$()),e=n,e===L&&(e=Je,90===t.charCodeAt(Je)?(n=Y,Je++):(n=L,0===rn&&i(tt)),n!==L&&($e=e,n=et()),e=n))),e}function l(){var e,n,r,s,a;for(e=Je,n=[],32===t.charCodeAt(Je)?(r=nt,Je++):(r=L,0===rn&&i(rt));r!==L;)n.push(r),32===t.charCodeAt(Je)?(r=nt,Je++):(r=L,0===rn&&i(rt));if(n!==L)if(t.substr(Je,2)===it?(r=it,Je+=2):(r=L,0===rn&&i(st)),r!==L){for(s=[],t.length>Je?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(at));a!==L;)s.push(a),t.length>Je?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(at));s!==L?(n=[n,r,s],e=n):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;return e}function u(){var e,n;return e=Je,124===t.charCodeAt(Je)?(n=ot,Je++):(n=L,0===rn&&i(lt)),n!==L&&($e=e,n=ut()),e=n}function c(){var e,n,r,s,a,o,l;if(e=Je,91===t.charCodeAt(Je)?(n=ct,Je++):(n=L,0===rn&&i(ht)),n!==L)if(r=h(),r!==L){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=h(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);a!==L;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=h(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);s!==L?(93===t.charCodeAt(Je)?(a=dt,Je++):(a=L,0===rn&&i(vt)),a!==L?($e=e,n=gt(r,s),e=n):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;return e}function h(){var t,e,n,r;return t=Je,e=T(),e!==L?(n=g(),n===L&&(n=F),n!==L?(r=f(),r===L&&(r=F),r!==L?($e=t,e=bt(e,n,r),t=e):(Je=t,t=j)):(Je=t,t=j)):(Je=t,t=j),t}function f(){var e,n,r,s,a,o;if(e=Je,58===t.charCodeAt(Je)?(n=P,Je++):(n=L,0===rn&&i(W)),n!==L){if(r=[],s=Je,a=p(),a!==L?(o=c(),o!==L?(a=[a,o],s=a):(Je=s,s=j)):(Je=s,s=j),s!==L)for(;s!==L;)r.push(s),s=Je,a=p(),a!==L?(o=c(),o!==L?(a=[a,o],s=a):(Je=s,s=j)):(Je=s,s=j);else r=j;r!==L?(s=p(),s!==L?($e=e,n=mt(r,s),e=n):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;return e}function p(){var e,n,r,s;return e=Je,t.substr(Je,2)===wt?(n=wt,Je+=2):(n=L,0===rn&&i(yt)),n!==L&&($e=e,n=_t()),e=n,e===L&&(e=Je,45===t.charCodeAt(Je)?(n=Et,Je++):(n=L,0===rn&&i(xt)),n!==L?(r=d(),r!==L?(45===t.charCodeAt(Je)?(s=Et,Je++):(s=L,0===rn&&i(xt)),s!==L?($e=e,n=At(r),e=n):(Je=e,e=j)):(Je=e,e=j)):(Je=e,e=j),e===L&&(e=Je,45===t.charCodeAt(Je)?(n=Et,Je++):(n=L,0===rn&&i(xt)),n!==L&&($e=e,n=Vt()),e=n,e===L&&(e=Je,126===t.charCodeAt(Je)?(n=Ct,Je++):(n=L,0===rn&&i(St)),n!==L?(r=m(),r!==L?(126===t.charCodeAt(Je)?(s=Ct,Je++):(s=L,0===rn&&i(St)),s!==L?($e=e,n=At(r),e=n):(Je=e,e=j)):(Je=e,e=j)):(Je=e,e=j),e===L&&(e=Je,126===t.charCodeAt(Je)?(n=Ct,Je++):(n=L,0===rn&&i(St)),n!==L&&($e=e,n=It()),e=n,e===L&&(e=Je,n=Tt,n!==L&&($e=e,n=Ot()),e=n))))),e}function d(){var t;return t=v(),t===L&&(t=g()),t}function v(){var t,e;return t=Je,e=A(),e!==L&&($e=t,e=Rt(e)),t=e,t===L&&(t=Je,e=k(),e!==L&&($e=t,e=kt(e)),t=e),t}function g(){var e,n,r,s,a,o,l;if(e=Je,40===t.charCodeAt(Je)?(n=zt,Je++):(n=L,0===rn&&i(Ht)),n!==L)if(r=b(),r!==L){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=b(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);a!==L;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=b(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);s!==L?(41===t.charCodeAt(Je)?(a=Nt,Je++):(a=L,0===rn&&i(Lt)),a!==L?($e=e,n=qt(r,s),e=n):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;return e}function b(){var e,n,r,s,a,o;return e=Je,n=y(),n===L&&(n=F),n!==L?(r=_(),r!==L?(s=Je,64===t.charCodeAt(Je)?(a=Mt,Je++):(a=L,0===rn&&i(jt)),a!==L?(o=E(),o!==L?(a=[a,o],s=a):(Je=s,s=j)):(Je=s,s=j),s===L&&(s=F),s!==L?($e=e,n=Ft(n,r,s),e=n):(Je=e,e=j)):(Je=e,e=j)):(Je=e,e=j),e}function m(){var e,n,r,s,a,o,l;if(e=Je,40===t.charCodeAt(Je)?(n=zt,Je++):(n=L,0===rn&&i(Ht)),n!==L)if(r=w(),r!==L){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=w(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);a!==L;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=L,0===rn&&i(pt)),o!==L?(l=w(),l!==L?(o=[o,l],a=o):(Je=a,a=j)):(Je=a,a=j);s!==L?(41===t.charCodeAt(Je)?(a=Nt,Je++):(a=L,0===rn&&i(Lt)),a!==L?($e=e,n=qt(r,s),e=n):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;return e}function w(){var e,n,r,s,a,o;return e=Je,n=y(),n===L&&(n=F),n!==L?(r=_(),r!==L?(s=Je,64===t.charCodeAt(Je)?(a=Mt,Je++):(a=L,0===rn&&i(jt)),a!==L?(o=E(),o!==L?(a=[a,o],s=a):(Je=s,s=j)):(Je=s,s=j),s===L&&(s=F),s!==L?($e=e,n=Pt(n,r,s),e=n):(Je=e,e=j)):(Je=e,e=j)):(Je=e,e=j),e}function y(){var e,n;return e=Je,t.substr(Je,2)===Wt?(n=Wt,Je+=2):(n=L,0===rn&&i(Dt)),n!==L&&($e=e,n=Ut()),e=n,e===L&&(e=Je,t.substr(Je,2)===Zt?(n=Zt,Je+=2):(n=L,0===rn&&i(Gt)),n!==L&&($e=e,n=Xt()),e=n,e===L&&(e=Je,t.substr(Je,2)===Bt?(n=Bt,Je+=2):(n=L,0===rn&&i(Qt)),n!==L&&($e=e,n=Kt()),e=n)),e}function _(){var t;return t=A(),t===L&&(t=x(),t===L&&(t=V())),t}function E(){var e,n,r;if(e=Je,n=[],Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t)),r!==L)for(;r!==L;)n.push(r),Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t));else n=j;return n!==L&&($e=e,n=Yt(n)),e=n}function x(){var t,e;return t=Je,e=k(),e!==L&&($e=t,e=te(e)),t=e}function A(){var e,n,r;return e=Je,n=k(),n!==L?(37===t.charCodeAt(Je)?(r=ee,Je++):(r=L,0===rn&&i(ne)),r!==L?($e=e,n=re(n),e=n):(Je=e,e=j)):(Je=e,e=j),e}function V(){var t,e,n,r,i;return t=Je,e=O(),e!==L?(n=C(),n===L&&(n=F),n!==L?(r=S(),r===L&&(r=F),r!==L?(i=I(),i===L&&(i=F),i!==L?($e=t,e=ie(e,n,r,i),t=e):(Je=t,t=j)):(Je=t,t=j)):(Je=t,t=j)):(Je=t,t=j),t}function C(){var e,n;return e=Je,t.substr(Je,5)===se?(n=se,Je+=5):(n=L,0===rn&&i(ae)),n!==L&&($e=e,n=oe()),e=n,e===L&&(e=Je,t.substr(Je,6)===le?(n=le,Je+=6):(n=L,0===rn&&i(ue)),n!==L&&($e=e,n=ce()),e=n,e===L&&(e=Je,t.substr(Je,4)===he?(n=he,Je+=4):(n=L,0===rn&&i(fe)),n!==L&&($e=e,n=pe()),e=n,e===L&&(e=Je,t.substr(Je,7)===de?(n=de,Je+=7):(n=L,0===rn&&i(ve)),n!==L&&($e=e,n=ge()),e=n,e===L&&(e=Je,t.substr(Je,6)===be?(n=be,Je+=6):(n=L,0===rn&&i(me)),n!==L&&($e=e,n=we()),e=n,e===L&&(e=Je,t.substr(Je,7)===ye?(n=ye,Je+=7):(n=L,0===rn&&i(_e)),n!==L&&($e=e,n=Ee()),e=n,e===L&&(e=Je,t.substr(Je,8)===xe?(n=xe,Je+=8):(n=L,0===rn&&i(Ae)),n!==L&&($e=e,n=Ve()),e=n,e===L&&(e=Je,t.substr(Je,8)===Ce?(n=Ce,Je+=8):(n=L,0===rn&&i(Se)),n!==L&&($e=e,n=Ie()),e=n))))))),e}function S(){var e,n,r;return e=Je,
47===t.charCodeAt(Je)?(n=Te,Je++):(n=L,0===rn&&i(Oe)),n!==L?(r=k(),r!==L?($e=e,n=Re(r),e=n):(Je=e,e=j)):(Je=e,e=j),e===L&&(e=Je,42===t.charCodeAt(Je)?(n=ke,Je++):(n=L,0===rn&&i(ze)),n!==L?(r=k(),r!==L?($e=e,n=He(r),e=n):(Je=e,e=j)):(Je=e,e=j)),e}function I(){var e,n,r;return e=Je,45===t.charCodeAt(Je)?(n=Et,Je++):(n=L,0===rn&&i(xt)),n!==L?(r=k(),r!==L?($e=e,n=Ne(r),e=n):(Je=e,e=j)):(Je=e,e=j),e===L&&(e=Je,43===t.charCodeAt(Je)?(n=Le,Je++):(n=L,0===rn&&i(qe)),n!==L?(r=k(),r!==L?($e=e,n=He(r),e=n):(Je=e,e=j)):(Je=e,e=j)),e}function T(){var e,n,r,s,a;if(e=Je,n=Je,r=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je)),s!==L)for(;s!==L;)r.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je));else r=j;if(r!==L&&(r=t.substring(n,Je)),n=r,n!==L){for(r=Je,s=[],Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));a!==L;)s.push(a),Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));s!==L&&(s=t.substring(r,Je)),r=s,r!==L?(s=R(),s!==L?($e=e,n=We(n,r,s),e=n):(Je=e,e=j)):(Je=e,e=j)}else Je=e,e=j;if(e===L){if(e=Je,n=Je,r=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je)),s!==L)for(;s!==L;)r.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je));else r=j;if(r!==L&&(r=t.substring(n,Je)),n=r,n!==L){for(r=Je,s=[],Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));a!==L;)s.push(a),Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));s!==L&&(s=t.substring(r,Je)),r=s,r!==L?($e=e,n=De(n,r),e=n):(Je=e,e=j)}else Je=e,e=j}return e}function O(){var e,n,r,s,a;if(e=Je,n=Je,r=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je)),s!==L)for(;s!==L;)r.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i(je));else r=j;if(r!==L&&(r=t.substring(n,Je)),n=r,n!==L){for(r=Je,s=[],Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));a!==L;)s.push(a),Fe.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i(Pe));s!==L&&(s=t.substring(r,Je)),r=s,r!==L?($e=e,n=De(n,r),e=n):(Je=e,e=j)}else Je=e,e=j;return e}function R(){var e,n,r,s;if(e=Je,t.substr(Je,2)===Ue?(n=Ue,Je+=2):(n=L,0===rn&&i(Ze)),n!==L){if(r=[],Jt.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i($t)),s!==L)for(;s!==L;)r.push(s),Jt.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=L,0===rn&&i($t));else r=j;r!==L?($e=e,n=Ge(r),e=n):(Je=e,e=j)}else Je=e,e=j;return e}function k(){var e,n,r,s,a;if(e=Je,n=[],Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t)),r!==L)for(;r!==L;)n.push(r),Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t));else n=j;if(n!==L)if(46===t.charCodeAt(Je)?(r=Xe,Je++):(r=L,0===rn&&i(Be)),r!==L){if(s=[],Jt.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i($t)),a!==L)for(;a!==L;)s.push(a),Jt.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=L,0===rn&&i($t));else s=j;s!==L?($e=e,n=Qe(n,s),e=n):(Je=e,e=j)}else Je=e,e=j;else Je=e,e=j;if(e===L){if(e=Je,n=[],Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t)),r!==L)for(;r!==L;)n.push(r),Jt.test(t.charAt(Je))?(r=t.charAt(Je),Je++):(r=L,0===rn&&i($t));else n=j;n!==L&&($e=e,n=Ke(n)),e=n}return e}function z(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var H,N=arguments.length>1?arguments[1]:{},L={},q={visualFormatString:a},M=a,j=L,F=null,P=":",W={type:"literal",value:":",description:'":"'},D=function(t,e,n,r,i,s){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(n,[].concat.apply([],r),i||[])}},U="HV",Z={type:"literal",value:"HV",description:'"HV"'},G=function(){return"horzvert"},X="H",B={type:"literal",value:"H",description:'"H"'},Q=function(){return"horizontal"},K="V",J={type:"literal",value:"V",description:'"V"'},$=function(){return"vertical"},Y="Z",tt={type:"literal",value:"Z",description:'"Z"'},et=function(){return"zIndex"},nt=" ",rt={type:"literal",value:" ",description:'" "'},it="//",st={type:"literal",value:"//",description:'"//"'},at={type:"any",description:"any character"},ot="|",lt={type:"literal",value:"|",description:'"|"'},ut=function(){return{view:null}},ct="[",ht={type:"literal",value:"[",description:'"["'},ft=",",pt={type:"literal",value:",",description:'","'},dt="]",vt={type:"literal",value:"]",description:'"]"'},gt=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},bt=function(t,e,n){return z(z(t,e?{constraints:e}:{}),n?{cascade:n}:{})},mt=function(t,e){return[].concat([].concat.apply([],t),[e])},wt="->",yt={type:"literal",value:"->",description:'"->"'},_t=function(){return[{relation:"none"}]},Et="-",xt={type:"literal",value:"-",description:'"-"'},At=function(t){return t},Vt=function(){return[{relation:"equ",constant:"default"}]},Ct="~",St={type:"literal",value:"~",description:'"~"'},It=function(){return[{relation:"equ",equalSpacing:!0}]},Tt="",Ot=function(){return[{relation:"equ",constant:0}]},Rt=function(t){return[{relation:"equ",multiplier:t.multiplier}]},kt=function(t){return[{relation:"equ",constant:t}]},zt="(",Ht={type:"literal",value:"(",description:'"("'},Nt=")",Lt={type:"literal",value:")",description:'")"'},qt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Mt="@",jt={type:"literal",value:"@",description:'"@"'},Ft=function(t,e,n){return z({relation:"equ"},t||{},e,n?n[1]:{})},Pt=function(t,e,n){return z({relation:"equ",equalSpacing:!0},t||{},e,n?n[1]:{})},Wt="==",Dt={type:"literal",value:"==",description:'"=="'},Ut=function(){return{relation:"equ"}},Zt="<=",Gt={type:"literal",value:"<=",description:'"<="'},Xt=function(){return{relation:"leq"}},Bt=">=",Qt={type:"literal",value:">=",description:'">="'},Kt=function(){return{relation:"geq"}},Jt=/^[0-9]/,$t={type:"class",value:"[0-9]",description:"[0-9]"},Yt=function(t){return{priority:parseInt(t.join(""),10)}},te=function(t){return{constant:t}},ee="%",ne={type:"literal",value:"%",description:'"%"'},re=function(t){return{view:null,multiplier:t/100}},ie=function(t,e,n,r){return{view:t.view,attribute:e?e:void 0,multiplier:n?n:1,constant:r?r:void 0}},se=".left",ae={type:"literal",value:".left",description:'".left"'},oe=function(){return"left"},le=".right",ue={type:"literal",value:".right",description:'".right"'},ce=function(){return"right"},he=".top",fe={type:"literal",value:".top",description:'".top"'},pe=function(){return"top"},de=".bottom",ve={type:"literal",value:".bottom",description:'".bottom"'},ge=function(){return"bottom"},be=".width",me={type:"literal",value:".width",description:'".width"'},we=function(){return"width"},ye=".height",_e={type:"literal",value:".height",description:'".height"'},Ee=function(){return"height"},xe=".centerX",Ae={type:"literal",value:".centerX",description:'".centerX"'},Ve=function(){return"centerX"},Ce=".centerY",Se={type:"literal",value:".centerY",description:'".centerY"'},Ie=function(){return"centerY"},Te="/",Oe={type:"literal",value:"/",description:'"/"'},Re=function(t){return 1/t},ke="*",ze={type:"literal",value:"*",description:'"*"'},He=function(t){return t},Ne=function(t){return-t},Le="+",qe={type:"literal",value:"+",description:'"+"'},Me=/^[a-zA-Z_]/,je={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},Fe=/^[a-zA-Z0-9_]/,Pe={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},We=function(t,e,r){return{view:t+e,range:r,$parserOffset:n()}},De=function(t,e){return{view:t+e,$parserOffset:n()}},Ue="..",Ze={type:"literal",value:"..",description:'".."'},Ge=function(t){return parseInt(t)},Xe=".",Be={type:"literal",value:".",description:'"."'},Qe=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Ke=function(t){return parseInt(t.join(""),10)},Je=0,$e=0,Ye=0,tn={line:1,column:1,seenCR:!1},en=0,nn=[],rn=0;if("startRule"in N){if(!(N.startRule in q))throw new Error("Can't start parsing from rule \""+N.startRule+'".');M=q[N.startRule]}if(H=M(),H!==L&&Je===t.length)return H;throw H!==L&&Je<t.length&&i({type:"end",description:"end of input"}),s(null,nn,en)}return t(e,Error),{SyntaxError:e,parse:n}}(),_={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},E=["viewport","spacing","colors","shapes","widths","heights"],x=function(){function t(){r(this,t)}return d(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var n=e&&e.extended?y.parse(t):w.parse(t);if(e&&"raw"===e.outFormat)return[n];var r={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};switch(n.orientation){case"horizontal":r.orientation=_.HORIZONTAL,r.horizontal=!0,l(r,n.cascade,null);break;case"vertical":r.orientation=_.VERTICAL,l(r,n.cascade,null);break;case"horzvert":r.orientation=_.HORIZONTAL,r.horizontal=!0,l(r,n.cascade,null),r={constraints:r.constraints,lineIndex:r.lineIndex,subViews:r.subViews,orientation:_.VERTICAL},l(r,n.cascade,null);break;case"zIndex":r.orientation=_.ZINDEX,l(r,n.cascade,null)}return r.constraints}},{key:"parse",value:function(t,e){var n=e&&e.lineSeperator?e.lineSeperator:"\n";if(!Array.isArray(t)&&t.indexOf(n)<0)try{return this.parseLine(t,e)}catch(r){throw r.source=t,r}t=Array.isArray(t)?t:[t];var i=void 0,s=[],a=0,o=void 0,l={lineIndex:a,extended:e&&e.extended,strict:e&&void 0!==e.strict?e.strict:!0,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var u=0;u<t.length;u++){i=t[u].split(n);for(var c=0;c<i.length;c++)o=i[c],a++,l.lineIndex=a,l.strict||(o=o.trim()),(l.strict||o.length)&&(s=s.concat(this.parseLine(o,l)))}}catch(r){throw r.source=o,r.line=a,r}return s}},{key:"parseMetaInfo",value:function(t,e){var n=e&&e.lineSeperator?e.lineSeperator:"\n",r=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var i,s={},a=0;a<t.length;a++)for(var l=t[a].split(n),u=0;u<l.length;u++)for(var c=l[u],h=0;h<E.length;h++)for(var f=0;(r?2:1)>f;f++){var p=E[h],d=(0===f?"":r)+p;if(0===c.indexOf("//"+d+" "))for(var v=c.substring(3+d.length).split(" "),g=0;g<v.length;g++){s[p]=s[p]||{};for(var b=v[g].split(":"),m=o(b[0],!0),w=0;w<m.length;w++)s[p][m[w]]=b.length>1?b[1]:""}else 0===c.indexOf("//"+d+":")&&(s[p]=c.substring(3+d.length))}if(s.viewport){var y=s.viewport,_=y["aspect-ratio"];_&&(_=_.split("/"),y["aspect-ratio"]=parseInt(_[0])/parseInt(_[1])),void 0!==y.height&&(y.height="intrinsic"===y.height?!0:parseInt(y.height)),void 0!==y.width&&(y.width="intrinsic"===y.width?!0:parseInt(y.width)),void 0!==y["max-height"]&&(y["max-height"]=parseInt(y["max-height"])),void 0!==y["max-width"]&&(y["max-width"]=parseInt(y["max-width"])),void 0!==y["min-height"]&&(y["min-height"]=parseInt(y["min-height"])),void 0!==y["min-width"]&&(y["min-width"]=parseInt(y["min-width"]))}if(s.widths)for(i in s.widths){var x="intrinsic"===s.widths[i]?!0:parseInt(s.widths[i]);s.widths[i]=x,(void 0===x||isNaN(x))&&delete s.widths[i]}if(s.heights)for(i in s.heights){var A="intrinsic"===s.heights[i]?!0:parseInt(s.heights[i]);s.heights[i]=A,(void 0===A||isNaN(A))&&delete s.heights[i]}if(s.spacing){var V=JSON.parse(s.spacing);s.spacing=V,(void 0===V||isNaN(V))&&delete s.spacing}return s}}]),t}(),A=function(){function t(e){r(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[g.LEFT]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.LEFT],v.Strength.required)),this._attr[g.TOP]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.TOP],v.Strength.required)),this._attr[g.ZINDEX]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.ZINDEX],v.Strength.required)))}return d(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new v.Variable,t){case g.RIGHT:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.LEFT],this._attr[g.WIDTH])));break;case g.BOTTOM:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.TOP],this._attr[g.HEIGHT])));break;case g.CENTERX:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.LEFT],v.divide(this._attr[g.WIDTH],2))));break;case g.CENTERY:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.TOP],v.divide(this._attr[g.HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(g.LEFT)}},{key:"right",get:function(){return this._getAttrValue(g.RIGHT)}},{key:"width",get:function(){return this._getAttrValue(g.WIDTH)}},{key:"height",get:function(){return this._getAttrValue(g.HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(g.WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(g.HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(g.TOP)}},{key:"bottom",get:function(){return this._getAttrValue(g.BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(g.CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(g.CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(g.ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}(),V=new v.Strength("defaultPriority",0,1e3,1e3),C=function(){function t(e){r(this,t),this._solver=new v.SimplexSolver,this._subViews={},this._parentSubView=new A({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&((void 0!==e.width||void 0!==e.height)&&this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return d(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!p(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return f.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)f.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}(),S={Attribute:g,Relation:b,Priority:m,VisualFormat:x,View:C,SubView:A};e.exports=S},{"cassowary/bin/c":2}],2:[function(t,e,n){(function(){!function(n){"use strict";try{(function(){}).bind(n)}catch(r){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var i=void 0!==n.HTMLElement,s=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},a=1e-8,o={},l=function(t,e){var n=!0;t:for(;n;){var r=t,i=e;if(s=void 0,n=!1,r&&i){if("function"==typeof r[i])return r[i];var s=r.prototype;if(s&&"function"==typeof s[i])return s[i];if(s!==Object.prototype&&s!==Function.prototype){if("function"==typeof r.__super__){t=r.__super__,e=i,n=!0;continue t}return void 0}}}},u=n.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var e=null,r=null;t["extends"]&&(r=t["extends"],delete t["extends"]),t.initialize&&(e=t.initialize,delete t.initialize);var a=e||function(){};Object.defineProperty(a,"__super__",{value:r?r:Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(o[t._t]=a);var l=a.prototype=Object.create(r?r.prototype:Object.prototype);if(this.extend(l,t),i&&r&&r.prototype instanceof n.HTMLElement){var u=a,c=s(l),h=function(t){return t.__proto__=l,u.apply(t,arguments),l.created&&t.created(),l.decorate&&t.decorate(),t};this.extend(l,{upgrade:h}),a=function(){return h(n.document.createElement(c))},a.prototype=l,this.extend(a,{ctor:u})}return a},extend:function(t,e){return this.own(e,function(n){var r=Object.getOwnPropertyDescriptor(e,n);try{"function"==typeof r.get||"function"==typeof r.set?Object.defineProperty(t,n,r):"function"==typeof r.value||"_"===n.charAt(0)?(r.writable=!0,r.configurable=!0,r.enumerable=!1,Object.defineProperty(t,n,r)):t[n]=e[n]}catch(i){}}),t},own:function(t,e,r){return Object.getOwnPropertyNames(t).forEach(e,r||n),t},traceprint:function(t){u.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new u.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var n,r;return n=t instanceof u.Variable?t.value:t,r=e instanceof u.Variable?e.value:e,0==n?a>Math.abs(r):0==r?a>Math.abs(n):Math.abs(n-r)<Math.abs(n)*a},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var n=e._t,r=o[n];if(n&&r){var i=l(r,"fromJSON");if(i)return i(e,r)}return e})}};"function"==typeof t&&"undefined"!=typeof e&&"undefined"==typeof load&&(n.exports=u)}(this),function(t){"use strict";var e=function i(t){var i=t.hashCode?t.hashCode:""+t;return i},n=function(t,e){Object.keys(t).forEach(function(n){e[n]=t[n]})},r={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,n){var r=e(t);this._store.hasOwnProperty(r)||this.size++,this._store[r]=n,this._keyStrMap[r]=t},get:function(t){if(!this.size)return null;t=e(t);var n=this._store[t];return void 0!==n?this._store[t]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};n(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var n=this._store,r=this._keyStrMap;Object.keys(this._store).forEach(function(i){t.call(e||null,r[i],n[i])},this)}},escapingEach:function(t,e){if(this.size){this._perhapsCompact();for(var n=this,i=this._store,s=this._keyStrMap,a=r,o=Object.keys(i),l=0;o.length>l;l++)if(function(r){n._store.hasOwnProperty(r)&&(a=t.call(e||null,s[r],i[r]))}(o[l]),a){if(void 0!==a.retval)return a;if(a.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,n(this._store,e._store),n(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var n=Object.keys(this._store),r=0;n.length>r;r++){var i=n[r];if(this._keyStrMap[i]!==e._keyStrMap[i]||this._store[i]!==e._store[i])return!1}return!0},toString:function(){var t="";return this.each(function(e,n){t+=e+" => "+n+"\n"}),t}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){var e=this.storage;return-1!=e.indexOf(t)},"delete":function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(n){e?e=!1:t+=", ",t+=n}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var n=new t.HashSet;return e.data&&(n.size=e.data.length,n.storage=e.data),n}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Error=t.inherit(Object.defineProperties({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",toString:function(){return this.description}},{description:{set:function(t){this._description=t},get:function(){return"("+this._name+") "+this._description},configurable:!0,enumerable:!0},message:{get:function(){return this.description},configurable:!0,enumerable:!0}}));var e=function(e,n){return t.inherit({"extends":t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:n||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(t){"use strict";var e=1e3;t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,n=arguments.length-1;n>=0;--n)this.value+=arguments[n]*t,t*=e},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(t){t.Strength=t.inherit(Object.defineProperties({initialize:function(e,n,r,i){this.name=e,this.symbolicWeight=n instanceof t.SymbolicWeight?n:new t.SymbolicWeight(n,r,i)},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}},{required:{get:function(){return this===t.Strength.required},configurable:!0,enumerable:!0}})),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof e?e.parent.exports.c:{})),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,n){this.hashCode=t._inc(),this.name=(n||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,n){var r=new n;return t.extend(r,e),r},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable","extends":t.AbstractVariable,initialize:function(e){this._init(e,"v");var n=t.Variable._map;n&&(n[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Point=t.inherit(Object.defineProperties({initialize:function(e,n,r){if(e instanceof t.Variable)this._x=e;else{var i={value:e};r&&(i.name="x"+r),this._x=new t.Variable(i)}if(n instanceof t.Variable)this._y=n;else{var s={value:n};r&&(s.name="y"+r),this._y=new t.Variable(s)}},toString:function(){return"("+this.x+", "+this.y+")"}},{x:{get:function(){return this._x},set:function(e){e instanceof t.Variable?this._x=e:this._x.value=e},configurable:!0,enumerable:!0},y:{get:function(){return this._y},set:function(e){e instanceof t.Variable?this._y=e:this._y.value=e},configurable:!0,enumerable:!0}}))}(this.c||e.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit(Object.defineProperties({initialize:function(e,n,r){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof r||isNaN(r)?0:r,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof n?n:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,n){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=n.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(n,r){e.set(n,r*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,n,r,i){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),n=n||1,this.constant+=n*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*n,r,i)},this),this},addVariable:function(e,n,r,i){null==n&&(n=1),t.trace&&console.log("c.Expression::addVariable():",e,n);var s=this.terms.get(e);if(s){var a=s+n;0==a||t.approx(a,0)?(i&&i.noteRemovedVariable(e,r),this.terms["delete"](e)):this.setVariable(e,a)}else t.approx(n,0)||(this.setVariable(e,n),i&&i.noteAddedVariable(e,r));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,n,r,i){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+n+", "+r+", ..."),t.traceprint("this = "+this));var s=this.setVariable.bind(this),a=this.terms,o=a.get(e);a["delete"](e),this.constant+=o*n.constant,n.terms.each(function(e,n){var l=a.get(e);if(l){var u=l+o*n;t.approx(u,0)?(i.noteRemovedVariable(e,r),a["delete"](e)):s(e,u)}else s(e,o*n),i&&i.noteAddedVariable(e,r)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var n=1/this.terms.get(e);return this.terms["delete"](e),this.multiplyMe(-n),n},coefficientFor:function(t){return this.terms.get(t)||0},toString:function(){var e="",n=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;n=!0}return this.terms.each(function(t,r){n&&(e+=" + "),e+=r+"*"+t,n=!0}),e},equals:function(e){return e===this?!0:e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}},{isConstant:{get:function(){return 0==this.terms.size},configurable:!0,enumerable:!0}}))}(this.c||e.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit(Object.defineProperties({initialize:function(e,n){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=n||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}},{required:{get:function(){return this.strength===t.Strength.required},configurable:!0,enumerable:!0}}));var e=t.AbstractConstraint.prototype.toString,n=function(e,n,r){t.AbstractConstraint.call(this,n||t.Strength.strong,r),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var r=t.Constraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(e,n,r){t.AbstractConstraint.call(this,n,r),this.expression=e}});t.Inequality=t.inherit({"extends":t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,n,i,s,a){var o=e instanceof t.Expression,l=i instanceof t.Expression,u=e instanceof t.AbstractVariable,c=i instanceof t.AbstractVariable,h="number"==typeof e,f="number"==typeof i;if((o||h)&&c){var p=e,d=n,v=i,g=s,b=a;if(r.call(this,this._cloneOrNewCle(p),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else if(u&&(l||f)){var p=i,d=n,v=e,g=s,b=a;if(r.call(this,this._cloneOrNewCle(p),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else{if(o&&f){var m=e,d=n,w=i,g=s,b=a;if(r.call(this,this._cloneOrNewCle(m),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(w));else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(w),-1)}return this}if(h&&l){var m=i,d=n,w=e,g=s,b=a;if(r.call(this,this._cloneOrNewCle(m),g,b),
d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(w));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(w),-1)}return this}if(o&&l){var m=e,d=n,w=i,g=s,b=a;if(r.call(this,this._cloneOrNewCle(w),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(m));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(m),-1)}}else{if(o)return r.call(this,e,n,i);if(n==t.GEQ)r.call(this,new t.Expression(i),s,a),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(n!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");r.call(this,new t.Expression(i),s,a),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return r.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({"extends":t.Constraint,initialize:function(e,n,i,s){if(e instanceof t.Expression&&!n||n instanceof t.Strength)r.call(this,e,n,i);else if(e instanceof t.AbstractVariable&&n instanceof t.Expression){var a=e,o=n,l=i,u=s;r.call(this,o.clone(),l,u),this.expression.addVariable(a,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof n){var a=e,c=n,l=i,u=s;r.call(this,new t.Expression(c),l,u),this.expression.addVariable(a,-1)}else if(e instanceof t.Expression&&n instanceof t.AbstractVariable){var o=e,a=n,l=i,u=s;r.call(this,o.clone(),l,u),this.expression.addVariable(a,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(n instanceof t.Expression||n instanceof t.AbstractVariable||"number"==typeof n))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),n=n instanceof t.Expression?n.clone():new t.Expression(n),r.call(this,e,i,s),this.expression.addExpression(n,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return r.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,n,r,i){this.constraint=t,this.editPlus=e,this.editMinus=n,this.prevEditConstant=r,this.index=i},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,n){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,n);var r=this.columns.get(e);n&&r&&r["delete"](n)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,n){t+=e,t+=" <==> ",t+=n,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,n){var r=this.columns.get(e);r||(r=new t.HashSet,this.columns.set(e,r)),r.add(n)},addRow:function(e,n){t.trace&&t.fnenterprint("addRow: "+e+", "+n),this.rows.set(e,n),n.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var n=this.columns.get(e);n?(this.columns["delete"](e),n.each(function(t){var n=this.rows.get(t);n.terms["delete"](e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows["delete"](e),this._externalParametricVars["delete"](e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var n=this.rows.get(e);return t.assert(null!=n),n.terms.each(function(n){var r=this.columns.get(n);null!=r&&(t.trace&&console.log("removing from varset:",e),r["delete"](e))},this),this._infeasibleRows["delete"](e),e.isExternal&&this._externalRows["delete"](e),this.rows["delete"](e),t.trace&&t.fnexitprint("returning "+n),n},substituteOut:function(e,n){t.trace&&t.fnenterprint("substituteOut:"+e+", "+n),t.trace&&t.traceprint(""+this);var r=this.columns.get(e);r.each(function(t){var r=this.rows.get(t);r.substituteOut(e,n,t,this),t.isRestricted&&0>r.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars["delete"](e)),this.columns["delete"](e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||e.parent.exports||{}),function(t){var e=t.Tableau,n=e.prototype,r=1e-8,i=t.Strength.weak;t.SimplexSolver=t.inherit({"extends":t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,n){var r=new t.Inequality(e,t.GEQ,new t.Expression(n));return this.addConstraint(r)},addUpperBound:function(e,n){var r=new t.Inequality(e,t.LEQ,new t.Expression(n));return this.addConstraint(r)},addBounds:function(t,e,n){return this.addLowerBound(t,e),this.addUpperBound(t,n),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var n=Array(2),r=Array(1),i=this.newExpression(e,n,r);if(r=r[0],this.tryAddingDirectly(i)||this.addWithArtificialVariable(i),this._fNeedsSolving=!0,e.isEditConstraint){var s=this._editVarMap.size,a=n[0],o=n[1];!a instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",a),!o instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",o),t.debug&&console.log("new c.EditInfo("+e+", "+a+", "+o+", "+r+", "+s+")");var l=new t.EditInfo(e,a,o,r,s);this._editVarMap.set(e.variable,l),this._editVarList[s]={v:e.variable,info:l}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(n){return!1}},addEditVar:function(e,n){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+n),this.addConstraint(new t.EditConstraint(e,n||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var n=this._editVarList.length,r=e;n>r;r++)this._editVarList[r]&&this.removeConstraint(this._editVarMap.get(this._editVarList[r].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(i){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,i,Math.pow(2,e)),this.addStay(t.y,i,Math.pow(2,e))},this),this},addStay:function(e,n,r){var s=new t.StayConstraint(e,n||i,r||1);return this.addConstraint(s)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var n=this.rows.get(this._objective),r=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+r),null!=r&&r.each(function(i){var s=this.rows.get(i);null==s?n.addVariable(i,-e.weight*e.strength.symbolicWeight.value,this._objective,this):n.addExpression(s,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+r)},this);var i=this._markerVars.get(e);if(this._markerVars["delete"](e),null==i)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+i),null==this.rows.get(i)){var s=this.columns.get(i);t.trace&&t.traceprint("Must pivot -- columns are "+s);var a=null,o=0;s.each(function(e){if(e.isRestricted){var n=this.rows.get(e),r=n.coefficientFor(i);if(t.trace&&t.traceprint("Marker "+i+"'s coefficient in "+n+" is "+r),0>r){var s=-n.constant/r;(null==a||o>s||t.approx(s,o)&&e.hashCode<a.hashCode)&&(o=s,a=e)}}},this),null==a&&(t.trace&&t.traceprint("exitVar is still null"),s.each(function(t){if(t.isRestricted){var e=this.rows.get(t),n=e.coefficientFor(i),r=e.constant/n;(null==a||o>r)&&(o=r,a=t)}},this)),null==a&&(0==s.size?this.removeColumn(i):s.escapingEach(function(t){return t!=this._objective?(a=t,{brk:!0}):void 0},this)),null!=a&&this.pivot(i,a)}if(null!=this.rows.get(i)&&this.removeRow(i),null!=r&&r.each(function(t){t!=i&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=r)for(var l=0;this._stayPlusErrorVars.length>l;l++)r["delete"](this._stayPlusErrorVars[l]),r["delete"](this._stayMinusErrorVars[l])}else if(e.isEditConstraint){t.assert(null!=r,"eVars != null");var u=this._editVarMap.get(e.variable);this.removeColumn(u.editMinus),this._editVarMap["delete"](e.variable)}return null!=r&&this._errorVars["delete"](r),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var n=e.length;this._editVarMap.each(function(t,r){var i=r.index;n>i&&this.suggestValue(t,e[i])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,n){t.trace&&console.log("suggestValue("+e+", "+n+")");var r=this._editVarMap.get(e);if(!r)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var i=n-r.prevEditConstant;return r.prevEditConstant=n,this.deltaEditConstant(i,r.editPlus,r.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,n){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=n,this;if(!t.approx(n,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,n)}catch(r){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(n){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=n.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=n.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var n=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),r=new t.ObjectiveVariable({name:"az"}),i=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(r,i),this.addRow(n,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(r);var s=this.rows.get(r);if(t.trace&&t.traceprint("azTableauRow.constant == "+s.constant),!t.approx(s.constant,0))throw this.removeRow(r),this.removeColumn(n),new t.RequiredFailure;var a=this.rows.get(n);if(null!=a){if(a.isConstant)return this.removeRow(n),void this.removeRow(r);var o=a.anyPivotableVariable();this.pivot(o,n)}t.assert(null==this.rows.get(n),"rowExpression(av) == null"),this.removeColumn(n),this.removeRow(r)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var n=this.chooseSubject(e);return null==n?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(n),this.columnsHasKey(n)&&this.substituteOut(n,e),this.addRow(n,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var n=null,r=!1,i=!1,s=e.terms,a=s.escapingEach(function(t,e){if(r){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!i&&!t.isDummy&&0>e){var s=this.columns.get(t);(null==s||1==s.size&&this.columnsHasKey(this._objective))&&(n=t,i=!0)}}else n=t,r=!0},this);if(a&&void 0!==a.retval)return a.retval;if(null!=n)return n;var o=0,a=s.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(n=t,o=e)):{retval:null}},this);if(a&&void 0!==a.retval)return a.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return o>0&&e.multiplyMe(-1),n},deltaEditConstant:function(e,n,r){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+n+", "+r);var i=this.rows.get(n);if(null!=i)return i.constant+=e,void(0>i.constant&&this._infeasibleRows.add(n));var s=this.rows.get(r);if(null!=s)return s.constant+=-e,void(0>s.constant&&this._infeasibleRows.add(r));var a=this.columns.get(r);a||console.log("columnVars is null -- tableau is:\n"+this),a.each(function(t){var n=this.rows.get(t),i=n.coefficientFor(r);n.constant+=i*e,t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var n=this._infeasibleRows.values()[0];this._infeasibleRows["delete"](n);var r=null,i=this.rows.get(n);if(i&&0>i.constant){var s,a=Number.MAX_VALUE,o=i.terms;if(o.each(function(n,i){if(i>0&&n.isPivotable){var o=e.coefficientFor(n);s=o/i,(a>s||t.approx(s,a)&&n.hashCode<r.hashCode)&&(r=n,a=s)}}),a==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(r,n)}}},newExpression:function(e,n,r){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var i=e.expression,s=new t.Expression(i.constant),a=new t.SlackVariable,o=new t.DummyVariable,l=new t.SlackVariable,u=new t.SlackVariable,c=i.terms;if(c.each(function(t,e){var n=this.rows.get(t);n?s.addExpression(n,e):s.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,a=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),s.setVariable(a,-1),this._markerVars.set(e,a),!e.required){++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(l,1);var h=this.rows.get(this._objective);h.setVariable(l,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,l),this.noteAddedVariable(l,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,o=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),s.setVariable(o,1),this._markerVars.set(e,o),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,u=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(u,-1),s.setVariable(l,1),this._markerVars.set(e,u);var h=this.rows.get(this._objective);t.trace&&console.log(h);var f=e.strength.symbolicWeight.value*e.weight;0==f&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+u+" and "+l+" with swCoeff == "+f)),h.setVariable(u,f),this.noteAddedVariable(u,this._objective),h.setVariable(l,f),this.noteAddedVariable(l,this._objective),this.insertErrorVar(e,l),this.insertErrorVar(e,u),e.isStayConstraint?(this._stayPlusErrorVars.push(u),this._stayMinusErrorVars.push(l)):e.isEditConstraint&&(n[0]=u,n[1]=l,r[0]=i.constant)}return 0>s.constant&&s.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+s),s},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var n=this.rows.get(e);t.assert(null!=n,"zRow != null");for(var i,s,a=null,o=null;;){if(i=0,s=n.terms,s.escapingEach(function(t,e){return t.isPivotable&&i>e?(i=e,a=t,{brk:1}):void 0},this),i>=-r)return;t.trace&&console.log("entryVar:",a,"objectiveCoeff:",i);var l=Number.MAX_VALUE,u=this.columns.get(a),c=0;if(u.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var n=this.rows.get(e),r=n.coefficientFor(a);t.trace&&t.traceprint("pivotable, coeff = "+r),0>r&&(c=-n.constant/r,(l>c||t.approx(c,l)&&e.hashCode<o.hashCode)&&(l=c,o=e))}},this),l==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(a,o),t.trace&&t.traceprint(""+this)}},pivot:function(e,n){t.trace&&console.log("pivot: ",e,n);var r=!1;r&&console.time(" SimplexSolver::pivot"),null==e&&console.warn("pivot: entryVar == null"),null==n&&console.warn("pivot: exitVar == null"),r&&console.time("  removeRow");var i=this.removeRow(n);r&&console.timeEnd("  removeRow"),r&&console.time("  changeSubject"),i.changeSubject(n,e),r&&console.timeEnd("  changeSubject"),r&&console.time("  substituteOut"),this.substituteOut(e,i),r&&console.timeEnd("  substituteOut"),r&&console.time("  addRow"),this.addRow(e,i),r&&console.timeEnd("  addRow"),r&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var n=this.rows.get(this._stayPlusErrorVars[e]);null==n&&(n=this.rows.get(this._stayMinusErrorVars[e])),null!=n&&(n.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,n){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+n);var r=this._errorVars.get(n);r||(r=new t.HashSet,this._errorVars.set(e,r)),r.add(n)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,n){function r(t){F>M||(M>F&&(F=M,P=[]),P.push(t))}function i(){var t,e,n,r,i;if(r=M,i=M,t=m(),null!==t){if(n=s(),null!==n)for(e=[];null!==n;)e.push(n),n=s();else e=null;null!==e?(n=m(),null!==n?t=[t,e,n]:(t=null,M=i)):(t=null,M=i)}else t=null,M=i;return null!==t&&(t=function(t,e){return e}(r,t[1])),null===t&&(M=r),t}function s(){var t,e,n,r;return n=M,r=M,t=H(),null!==t?(e=h(),null!==e?t=[t,e]:(t=null,M=r)):(t=null,M=r),null!==t&&(t=function(t,e){return e}(n,t[0])),null===t&&(M=n),t}function a(){var t;return e.length>M?(t=e.charAt(M),M++):(t=null,0===j&&r("any character")),t}function o(){var t;return/^[a-zA-Z]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===j&&r("[a-zA-Z]")),null===t&&(36===e.charCodeAt(M)?(t="$",M++):(t=null,0===j&&r('"$"')),null===t&&(95===e.charCodeAt(M)?(t="_",M++):(t=null,0===j&&r('"_"')))),t}function l(){var t;return j++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===j&&r("[\\t\\x0B\\f \\xA0\\uFEFF]")),j--,0===j&&null===t&&r("whitespace"),t}function u(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===j&&r("[\\n\\r\\u2028\\u2029]")),t}function c(){var t;return j++,10===e.charCodeAt(M)?(t="\n",M++):(t=null,0===j&&r('"\\n"')),null===t&&("\r\n"===e.substr(M,2)?(t="\r\n",M+=2):(t=null,0===j&&r('"\\r\\n"')),null===t&&(13===e.charCodeAt(M)?(t="\r",M++):(t=null,0===j&&r('"\\r"')),null===t&&(8232===e.charCodeAt(M)?(t="\u2028",M++):(t=null,0===j&&r('"\\u2028"')),null===t&&(8233===e.charCodeAt(M)?(t="\u2029",M++):(t=null,0===j&&r('"\\u2029"')))))),j--,0===j&&null===t&&r("end of line"),t}function h(){var t,n,i;return i=M,t=m(),null!==t?(59===e.charCodeAt(M)?(n=";",M++):(n=null,0===j&&r('";"')),null!==n?t=[t,n]:(t=null,M=i)):(t=null,M=i),null===t&&(i=M,t=b(),null!==t?(n=c(),null!==n?t=[t,n]:(t=null,M=i)):(t=null,M=i),null===t&&(i=M,t=m(),null!==t?(n=f(),null!==n?t=[t,n]:(t=null,M=i)):(t=null,M=i))),t}function f(){var t,n;return n=M,j++,e.length>M?(t=e.charAt(M),M++):(t=null,0===j&&r("any character")),j--,null===t?t="":(t=null,M=n),t}function p(){var t;return j++,t=d(),null===t&&(t=g()),j--,0===j&&null===t&&r("comment"),t}function d(){var t,n,i,s,o,l,u;if(o=M,"/*"===e.substr(M,2)?(t="/*",M+=2):(t=null,0===j&&r('"/*"')),null!==t){for(n=[],l=M,u=M,j++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),j--,null===i?i="":(i=null,M=u),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)n.push(i),l=M,u=M,j++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),j--,null===i?i="":(i=null,M=u),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==n?("*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),null!==i?t=[t,n,i]:(t=null,M=o)):(t=null,M=o)}else t=null,M=o;return t}function v(){var t,n,i,s,o,l,c;if(o=M,"/*"===e.substr(M,2)?(t="/*",M+=2):(t=null,0===j&&r('"/*"')),null!==t){for(n=[],l=M,c=M,j++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),null===i&&(i=u()),j--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)n.push(i),l=M,c=M,j++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),null===i&&(i=u()),j--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==n?("*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===j&&r('"*/"')),null!==i?t=[t,n,i]:(t=null,M=o)):(t=null,M=o)}else t=null,M=o;return t}function g(){var t,n,i,s,o,l,c;if(o=M,"//"===e.substr(M,2)?(t="//",M+=2):(t=null,0===j&&r('"//"')),null!==t){for(n=[],l=M,c=M,j++,i=u(),j--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)n.push(i),l=M,c=M,j++,i=u(),j--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==n?t=[t,n]:(t=null,M=o)}else t=null,M=o;return t}function b(){var t,e;for(t=[],e=l(),null===e&&(e=v(),null===e&&(e=g()));null!==e;)t.push(e),e=l(),null===e&&(e=v(),null===e&&(e=g()));return t}function m(){var t,e;for(t=[],e=l(),null===e&&(e=c(),null===e&&(e=p()));null!==e;)t.push(e),e=l(),null===e&&(e=c(),null===e&&(e=p()));return t}function w(){var t,e;return e=M,t=_(),null===t&&(t=y()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(e,t)),null===t&&(M=e),t}function y(){var t,n,i;if(i=M,/^[0-9]/.test(e.charAt(M))?(n=e.charAt(M),M++):(n=null,0===j&&r("[0-9]")),null!==n)for(t=[];null!==n;)t.push(n),/^[0-9]/.test(e.charAt(M))?(n=e.charAt(M),M++):(n=null,0===j&&r("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(i,t)),null===t&&(M=i),t}function _(){var t,n,i,s,a;return s=M,a=M,t=y(),null!==t?(46===e.charCodeAt(M)?(n=".",M++):(n=null,0===j&&r('"."')),null!==n?(i=y(),null!==i?t=[t,n,i]:(t=null,M=a)):(t=null,M=a)):(t=null,M=a),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(s,t)),null===t&&(M=s),t}function E(){var t,n,i,s;if(s=M,/^[\-+]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===j&&r("[\\-+]")),t=null!==t?t:"",null!==t){if(/^[0-9]/.test(e.charAt(M))?(i=e.charAt(M),M++):(i=null,0===j&&r("[0-9]")),null!==i)for(n=[];null!==i;)n.push(i),/^[0-9]/.test(e.charAt(M))?(i=e.charAt(M),M++):(i=null,0===j&&r("[0-9]"));else n=null;null!==n?t=[t,n]:(t=null,M=s)}else t=null,M=s;return t}function x(){var t,e;return j++,e=M,t=A(),null!==t&&(t=function(t,e){return e}(e,t)),null===t&&(M=e),j--,0===j&&null===t&&r("identifier"),t}function A(){var t,e,n,i,s;if(j++,i=M,s=M,t=o(),null!==t){for(e=[],n=o();null!==n;)e.push(n),n=o();null!==e?t=[t,e]:(t=null,M=s)}else t=null,M=s;return null!==t&&(t=function(t,e,n){return e+n.join("")}(i,t[0],t[1])),null===t&&(M=i),j--,0===j&&null===t&&r("identifier"),t}function V(){var t,n,i,s,a,o,l;return o=M,t=x(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(o,t)),null===t&&(M=o),null===t&&(t=w(),null===t&&(o=M,l=M,40===e.charCodeAt(M)?(t="(",M++):(t=null,0===j&&r('"("')),null!==t?(n=m(),null!==n?(i=H(),null!==i?(s=m(),null!==s?(41===e.charCodeAt(M)?(a=")",M++):(a=null,0===j&&r('")"')),null!==a?t=[t,n,i,s,a]:(t=null,M=l)):(t=null,M=l)):(t=null,M=l)):(t=null,M=l)):(t=null,M=l),null!==t&&(t=function(t,e){return e}(o,t[2])),null===t&&(M=o))),t}function C(){var t,e,n,r,i;return t=V(),null===t&&(r=M,i=M,t=S(),null!==t?(e=m(),null!==e?(n=C(),null!==n?t=[t,e,n]:(t=null,M=i)):(t=null,M=i)):(t=null,M=i),null!==t&&(t=function(t,e,n){return{type:"UnaryExpression",operator:e,expression:n}}(r,t[0],t[2])),null===t&&(M=r)),t}function S(){var t;return 43===e.charCodeAt(M)?(t="+",M++):(t=null,0===j&&r('"+"')),null===t&&(45===e.charCodeAt(M)?(t="-",M++):(t=null,0===j&&r('"-"')),null===t&&(33===e.charCodeAt(M)?(t="!",M++):(t=null,0===j&&r('"!"')))),t}function I(){var t,e,n,r,i,s,a,o,l;if(a=M,o=M,t=C(),null!==t){for(e=[],l=M,n=m(),null!==n?(r=T(),null!==r?(i=m(),null!==i?(s=C(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==n;)e.push(n),l=M,n=m(),null!==n?(r=T(),null!==r?(i=m(),null!==i?(s=C(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"MultiplicativeExpression",operator:n[i][1],left:r,right:n[i][3]};return r}(a,t[0],t[1])),null===t&&(M=a),t}function T(){var t;return 42===e.charCodeAt(M)?(t="*",M++):(t=null,0===j&&r('"*"')),null===t&&(47===e.charCodeAt(M)?(t="/",M++):(t=null,0===j&&r('"/"'))),t}function O(){var t,e,n,r,i,s,a,o,l;if(a=M,o=M,t=I(),null!==t){for(e=[],l=M,n=m(),null!==n?(r=R(),null!==r?(i=m(),null!==i?(s=I(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==n;)e.push(n),l=M,n=m(),null!==n?(r=R(),null!==r?(i=m(),null!==i?(s=I(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"AdditiveExpression",operator:n[i][1],left:r,right:n[i][3]};return r}(a,t[0],t[1])),null===t&&(M=a),t}function R(){var t;return 43===e.charCodeAt(M)?(t="+",M++):(t=null,0===j&&r('"+"')),null===t&&(45===e.charCodeAt(M)?(t="-",M++):(t=null,0===j&&r('"-"'))),t}function k(){var t,e,n,r,i,s,a,o,l;if(a=M,o=M,t=O(),null!==t){for(e=[],l=M,n=m(),null!==n?(r=z(),null!==r?(i=m(),null!==i?(s=O(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==n;)e.push(n),l=M,n=m(),null!==n?(r=z(),null!==r?(i=m(),null!==i?(s=O(),null!==s?n=[n,r,i,s]:(n=null,M=l)):(n=null,M=l)):(n=null,M=l)):(n=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"Inequality",operator:n[i][1],left:r,right:n[i][3]};return r}(a,t[0],t[1])),null===t&&(M=a),t}function z(){var t;return"<="===e.substr(M,2)?(t="<=",M+=2):(t=null,0===j&&r('"<="')),null===t&&(">="===e.substr(M,2)?(t=">=",M+=2):(t=null,0===j&&r('">="')),null===t&&(60===e.charCodeAt(M)?(t="<",M++):(t=null,0===j&&r('"<"')),null===t&&(62===e.charCodeAt(M)?(t=">",M++):(t=null,0===j&&r('">"'))))),t}function H(){var t,n,i,s,a,o,l,u,c;if(l=M,u=M,t=k(),null!==t){for(n=[],c=M,i=m(),null!==i?("=="===e.substr(M,2)?(s="==",M+=2):(s=null,0===j&&r('"=="')),null!==s?(a=m(),null!==a?(o=k(),null!==o?i=[i,s,a,o]:(i=null,M=c)):(i=null,M=c)):(i=null,M=c)):(i=null,M=c);null!==i;)n.push(i),c=M,i=m(),null!==i?("=="===e.substr(M,2)?(s="==",M+=2):(s=null,0===j&&r('"=="')),null!==s?(a=m(),null!==a?(o=k(),null!==o?i=[i,s,a,o]:(i=null,M=c)):(i=null,M=c)):(i=null,M=c)):(i=null,M=c);null!==n?t=[t,n]:(t=null,M=u)}else t=null,M=u;return null!==t&&(t=function(t,e,n){for(var r=e,i=0;n.length>i;i++)r={type:"Equality",operator:n[i][1],left:r,right:n[i][3]};return r}(l,t[0],t[1])),null===t&&(M=l),t}function N(t){t.sort();for(var e=null,n=[],r=0;t.length>r;r++)t[r]!==e&&(n.push(t[r]),e=t[r]);return n}function L(){for(var t=1,n=1,r=!1,i=0;Math.max(M,F)>i;i++){var s=e.charAt(i);"\n"===s?(r||t++,n=1,r=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(t++,n=1,r=!0):(n++,r=!1)}return{line:t,column:n}}var q={start:i,Statement:s,SourceCharacter:a,IdentifierStart:o,WhiteSpace:l,LineTerminator:u,LineTerminatorSequence:c,EOS:h,EOF:f,Comment:p,MultiLineComment:d,MultiLineCommentNoLineTerminator:v,SingleLineComment:g,_:b,__:m,Literal:w,Integer:y,Real:_,SignedInteger:E,Identifier:x,IdentifierName:A,PrimaryExpression:V,UnaryExpression:C,UnaryOperator:S,MultiplicativeExpression:I,MultiplicativeOperator:T,AdditiveExpression:O,AdditiveOperator:R,InequalityExpression:k,InequalityOperator:z,LinearExpression:H};if(void 0!==n){if(void 0===q[n])throw Error("Invalid rule name: "+t(n)+".")}else n="start";var M=0,j=0,F=0,P=[],W=q[n]();if(null===W||M!==e.length){var D=Math.max(M,F),U=e.length>D?e.charAt(D):null,Z=L();throw new this.SyntaxError(N(P),U,D,Z.line,Z.column)}return W},toSource:function(){return this._source}};return e.SyntaxError=function(e,n,r,i,s){function a(e,n){var r,i;switch(e.length){case 0:r="end of input";break;case 1:r=e[0];break;default:r=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return i=n?t(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=e,this.found=n,this.message=a(e,n),this.offset=r,this.line=i,this.column=s},e.SyntaxError.prototype=Error.prototype,e}()}).call("undefined"!=typeof e?e.compiled=e:this)},{}]},{},[1])(1)})},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1]);
}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(r[s]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){e=t.exports=n(2)(),e.push([t.id,"html{box-sizing:border-box}body,html{padding:0;margin:0}*,:after,:before{box-sizing:inherit}",""])},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=h[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(o(r.parts[s],e))}else{for(var a=[],s=0;s<r.parts.length;s++)a.push(o(r.parts[s],e));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],s=i[0],a=i[1],o=i[2],l=i[3],u={css:a,media:o,sourceMap:l};n[s]?n[s].parts.push(u):e.push(n[s]={id:s,parts:[u]})}return e}function s(){var t=document.createElement("style"),e=d();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=d();return t.rel="stylesheet",e.appendChild(t),t}function o(t,e){var n,r,i;if(e.singleton){var o=g++;n=v||(v=s()),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),r=c.bind(null,n),i=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(),r=u.bind(null,n),i=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var s=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function u(t,e){var n=e.css,r=e.media;if(e.sourceMap,r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function c(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var h={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p());var n=i(t);return r(n,e),function(t){for(var s=[],a=0;a<n.length;a++){var o=n[a],l=h[o.id];l.refs--,s.push(l)}if(t){var u=i(t);r(u,e)}for(var a=0;a<s.length;a++){var l=s[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r=n(3);"string"==typeof r&&(r=[[t.id,r,""]]),n(4)(r,{}),r.locals&&(t.exports=r.locals)},function(e,n){e.exports=t}])});
//# sourceMappingURL=react-autolayout.map