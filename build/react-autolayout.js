!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactAutoLayout=e(require("react")):t.ReactAutoLayout=e(t.React)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="build/",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(t)throw new Error("Invariant Violation: "+e)}function o(){var t={};return Array.prototype.slice.call(arguments).forEach(function(e){for(var r in e)"top"!==r&&"left"!==r&&e.hasOwnProperty(r)&&(t[r]=e[r])}),t}function l(t,e){var r={},n=void 0,i=void 0,s=void 0,a=void 0,l=void 0,u=t.layouts[e.format].constrainTo,c=t.layouts[e.format].constrainToIsFixed;if(c)t.view.setSize(u[0],u[1]);else if("viewport"!=t.layouts[e.format].constrainTo[0]&&u[0]in A){var h=u[0],f=u[1],p=A[h][f].style,d=V[h][f].borderWidth,v=V[h][f].borderHeight;"format"in V[h][f]&&e.format in V[h][f].format&&(d=V[h][f].format[e.format].borderWidth,v=V[h][f].format[e.format].borderHeight),t.view.setSize(p.width-d,p.height-v)}else t.view.setSize(window.innerWidth,window.innerHeight);r[t.viewName]={},r[t.viewName].currentFormat=e.format;for(var g in t.view.subViews){var b=void 0;t.view.subViews.hasOwnProperty(g)&&"_"!==g[0]&&(n=t.view.subViews[g],i=n.width,s=n.height,a=n.top,l=n.left,b={width:i,height:s,transform:"translate3d("+l+"px, "+a+"px, 0)",position:"absolute",padding:0,margin:0},r[t.viewName][g]=o({style:b,parentView:t.viewName,_top:a,_left:l,format:e.format,view:g}))}return r}function u(t,e,r){for(var n=void 0,i=0,s=x.length;s>i;i++)n=x[i].query(A,x[i].currentFormat),x[i].currentFormat!==n.format&&(x[i].view=new m["default"].View,x[i].view.addConstraints(x[i].layouts[n.format].constraints)),x[i].currentFormat=n.format,A=o(A,l(x[i],n));for(var a in _)_.hasOwnProperty(a)&&_[a]()}function c(t,e,r){var n=void 0,i=e||0,s=r||0,a=void 0;return"border"in t?(n=t.border.match(C),i=2*n[0],s=2*n[0]):"borderTop"in t||"borderBottom"in t?(s=0,"borderTop"in t&&(n=t.borderTop.match(C),s+=n[0]),"borderBottom"in t&&(n=t.borderBottom.match(C),s+=n[0])):"borderRight"in t||"borderLeft"in t?(i=0,"borderRight"in t&&(n=t.borderRight.match(C),i+=n[0]),"borderLeft"in t&&(n=t.borderLeft.match(C),i+=n[0])):"borderWidth"in t?(n=t.borderWidth.match(C),a=n.length,1===a&&(i=2*n[0],s=2*n[0]),2===a&&(i=2*n[1],s=2*n[0]),3===a&&(i=2*n[1],s=n[0]*n[2]),4===a&&(i=n[1]*n[4],s=n[0]*n[2])):"borderTopWidth"in t||"borderBottomWidth"in t?(s=0,"borderTopWidth"in t&&(n=t.borderTopWidth.match(C),s+=n[0]),"borderBottomWidth"in t&&(n=t.borderBottomWidth.match(C),s+=n[0])):("borderRightWidth"in t||"borderLeftWidth"in t)&&(i=0,"borderRightWidth"in t&&(n=t.borderRightWidth.match(C),i+=n[0]),"borderLeftWidth"in t&&(n=t.borderLeftWidth.match(C),i+=n[0])),{width:i,height:s}}function h(t,e){var r=t.props.name,n=void 0;a(void 0===r,"name is required!"),a(r in E,r+" name must be unique."),V[r]={};var i=w["default"].Children.toArray(t.props.children);i.forEach(function(t){if(V[r][t.props.viewKey]={},V[r][t.props.viewKey].borderWidth=0,V[r][t.props.viewKey].borderHeight=0,"style"in t.props){var e=c(t.props.style),n=e.width,i=e.height;V[r][t.props.viewKey].borderWidth=n,V[r][t.props.viewKey].borderHeight=i}if("formatStyle"in t.props){V[r][t.props.viewKey].format=V[r][t.props.viewKey].format||{};for(var s in t.props.formatStyle)if(t.props.formatStyle.hasOwnProperty(s)){V[r][t.props.viewKey].format[s]={};var a=c(t.props.formatStyle[s],V[r][t.props.viewKey].borderWidth,V[r][t.props.viewKey].borderHeight),n=a.width,i=a.height;V[r][t.props.viewKey].format[s].borderWidth=n,V[r][t.props.viewKey].format[s].borderHeight=i}}}),_[r]=function(){t.forceUpdate()},E[r]={},E[r].layouts={},E[r].query=e.query,E[r].viewName=r,E[r].view=new m["default"].View,n=e.query(A),E[r].currentFormat=n.format;for(var s=0,h=e.layouts.length;h>s;s++){var f=e.layouts[s];E[r].layouts[f.name]={},E[r].layouts[f.name].htmlTag=f.htmlTag,"[object Array]"===Object.prototype.toString.call(f.constrainTo)?(E[r].layouts[f.name].constrainToIsFixed=!0,E[r].layouts[f.name].constrainTo=f.constrainTo):(E[r].layouts[f.name].constrainToIsFixed=!1,E[r].layouts[f.name].constrainTo=f.constrainTo.split(".")),E[r].layouts[f.name].constraints=m["default"].VisualFormat.parse(f.format,{extended:!0})}E[r].view.addConstraints(E[r].layouts[n.format].constraints),A=o(A,l(E[r],n)),x.push(E[r]);for(var s=0,p=x.length;p>s;s++)A=o(A,l(x[s],{format:x[s].currentFormat}));u()}function f(t){t in _&&delete _[t],t in A&&delete A[t],t in E&&(E[t].view=null,delete E[t]),t in V&&delete V[t],x=x.filter(function(e){return e.viewName!==t}),u()}function p(t,e){var r=t&&e?e.props.viewKey:void 0;return void 0!==r&&t in A&&r in A[t]?A[t][r].style:void 0}function d(t){return void 0!==t&&null!==t&&t in A?A[t].currentFormat:void 0}Object.defineProperty(e,"__esModule",{value:!0});var v=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),g=function(t,e,r){for(var n=!0;n;){var i=t,s=e,a=r;o=u=l=void 0,n=!1,null===i&&(i=Function.prototype);var o=Object.getOwnPropertyDescriptor(i,s);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;t=u,e=s,r=a,n=!0}};r(5);var b=r(1),m=n(b),y=r(6),w=n(y),_={},E={},x=[],A={},V={},C=/\d+\.?\d?(?=(px))?/g;window.addEventListener("resize",u);var S=function(t){function e(t){i(this,e),g(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return s(e,t),v(e,[{key:"componentWillMount",value:function(){h(this,{query:this.props.query,layouts:this.props.layout})}},{key:"componentWillUnmount",value:function(){f(this.props.name)}},{key:"render",value:function(){var t=this.props.name,e=this.props.htmlTag||"div",r=w["default"].Children.map(this.props.children,function(e){var r=p(t,e);if(void 0===r)return e;if("formatStyle"in e.props){var n=d(t);if(void 0!==n&&n in e.props.formatStyle)return w["default"].cloneElement(e,{style:o(e.props.style,e.props.formatStyle[n],r)})}return w["default"].cloneElement(e,{style:o(e.props.style,r)})});return w["default"].createElement(e,null,r)}}]),e}(w["default"].Component);e["default"]=S,S.propTypes={name:w["default"].PropTypes.string.isRequired,query:w["default"].PropTypes.func.isRequried,layout:w["default"].PropTypes.arrayOf(w["default"].PropTypes.shape({name:w["default"].PropTypes.string.isRequired,constrainTo:w["default"].PropTypes.oneOfType([w["default"].PropTypes.arrayOf(w["default"].PropTypes.number),w["default"].PropTypes.string]).isRequired,format:w["default"].PropTypes.arrayOf(w["default"].PropTypes.string).isRequired})).isRequired,htmlTag:w["default"].PropTypes.string,children:w["default"].PropTypes.any.isRequired},t.exports=e["default"]},function(t,e,r){var n,n;!function(e){t.exports=e()}(function(){return function t(e,r,i){function s(o,l){if(!r[o]){if(!e[o]){var u="function"==typeof n&&n;if(!l&&u)return n(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[o]={exports:{}};e[o][0].call(h.exports,function(t){var r=e[o][1][t];return s(r?r:t)},h,h.exports,t,e,r,i)}return r[o].exports}for(var a="function"==typeof n&&n,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var r="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:r,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:r,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:r,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:b.EQU,view2:null,attr2:g.CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var n=0;n<t.prevViews.length;n++){var i=t.prevViews[n];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:r,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[r]}function s(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var r="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:r,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var n=0;n<t.prevViews.length;n++){var i=t.prevViews[n];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=i!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case _.VERTICAL:t.prevAttr=i!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=i!==e?"default":0}t.constraints.push({view1:i,attr1:t.prevAttr,relation:t.relation.relation,view2:r,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[r]}function a(t,e,r){for(var n=void 0,i=1;4>=i;i*=2)if(r.orientations&i&&r.stack.orientation!==i&&!(r.stack.processedOrientations&i)){r.stack.processedOrientations=r.stack.processedOrientations|i,n=n||{name:e,type:"stack"};for(var s=0,a=r.stack.subViews.length;a>s;s++)i===_.ZINDEX?t.constraints.push({view1:n,attr1:g.ZINDEX,relation:b.EQU,view2:r.stack.subViews[s],attr2:g.ZINDEX}):(t.constraints.push({view1:n,attr1:i===_.VERTICAL?g.HEIGHT:g.WIDTH,relation:b.EQU,view2:r.stack.subViews[s],attr2:i===_.VERTICAL?g.HEIGHT:g.WIDTH}),t.constraints.push({view1:n,attr1:i===_.VERTICAL?g.TOP:g.LEFT,relation:b.EQU,view2:r.stack.subViews[s],attr2:i===_.VERTICAL?g.TOP:g.LEFT}))}}function o(t,e){if(e===!0&&(e=t.match(/\.\.\d+$/),e&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2)))),!e)return[t];var r,n=t.match(/\d+$/),i=[];if(n)for(t=t.substring(0,t.length-n[0].length),r=parseInt(n);e>=r;r++)i.push(t+r);else for(i.push(t),r=2;e>=r;r++)i.push(t+r);return i}function l(t,e,r){var n=r?r.view:null,u=[],c=[],h=void 0;n&&(e.push({view:n}),c.push(n));for(var f=0;f<e.length;f++){var p=e[f];if(!Array.isArray(p)&&p.hasOwnProperty("view")||Array.isArray(p)&&p[0].view&&!p[0].relation)for(var d=Array.isArray(p)?p:[p],v=0;v<d.length;v++){p=d[v];for(var b=","===p?[]:p.view?o(p.view,p.range):[null],m=0;m<b.length;m++){var y=b[m];if(c.push(y),y!==n&&(u.push(y),h=t.subViews[y],h||(h={orientations:0},t.subViews[y]=h),h.orientations=h.orientations|t.orientation,h.stack&&a(t,y,h)),void 0!==t.prevViews&&void 0!==y&&t.relation&&"none"!==t.relation.relation)for(var w=0;w<t.prevViews.length;w++){var E=t.prevViews[w];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=E!==n?g.RIGHT:g.LEFT,t.curAttr=y!==n?g.LEFT:g.RIGHT;break;case _.VERTICAL:t.prevAttr=E!==n?g.BOTTOM:g.TOP,t.curAttr=y!==n?g.TOP:g.BOTTOM;break;case _.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=E!==n?"default":0}t.constraints.push({view1:E,attr1:t.prevAttr,relation:t.relation.relation,view2:y,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var x=p.constraints;if(x)for(var A=0;A<x.length;A++)t.prevAttr=t.horizontal?g.WIDTH:g.HEIGHT,t.curAttr=x[A].view||x[A].multiplier?x[A].attribute||t.prevAttr:x[A].variable?g.VARIABLE:g.CONST,t.constraints.push({view1:y,attr1:t.prevAttr,relation:x[A].relation,view2:x[A].view,attr2:t.curAttr,multiplier:x[A].multiplier,constant:x[A].constant,priority:x[A].priority});p.cascade&&l(t,p.cascade,p)}}else","!==p&&(t.prevViews=c,c=[],t.relation=p[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&i(t,n),t.relation.multiplier&&s(t,n)))}if(n){if(h=t.subViews[n]){if(h.stack){var V=new Error('A stack named "'+n+'" has already been created');throw V.column=r.$parserOffset+1,V}}else h={orientations:t.orientation},t.subViews[n]=h;h.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:u},a(t,n,h)}}function u(t,e){var r,r=new v.Variable({value:e});return this._solver.addConstraint(new v.StayConstraint(r,v.Strength.required,0)),r}function c(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new A({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new A({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function h(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new v.Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=v.minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function f(t){var e=void 0,r=void 0!==t.multiplier?t.multiplier:1,n=void 0!==t.constant?t.constant:0;"default"===n&&(n=h.call(this,t));var i,s=c.call(this,t.view1)._getAttr(t.attr1),a=void 0;t.attr2===g.CONST?a=u.call(this,void 0,t.constant):(a=c.call(this,t.view2)._getAttr(t.attr2),1!==r&&n?a=v.plus(v.times(a,r),n):n?a=v.plus(a,n):1!==r&&(a=v.times(a,r)));var i=void 0!==t.priority&&t.priority<1e3?new v.Strength("priority",0,t.priority,1e3):V;switch(t.relation){case b.EQU:e=new v.Equation(s,a,i);break;case b.GEQ:e=new v.Inequality(s,v.GEQ,a,i);break;case b.LEQ:e=new v.Inequality(s,v.LEQ,a,i);break;default:throw"Invalid relation specified: "+t.relation}this._solver.addConstraint(e)}function p(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var r=0;7>r;r++)if(t[r]!==e[r])return!1;return!0}var d=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),v=t("cassowary/bin/c"),g={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"},b={LEQ:"leq",EQU:"equ",GEQ:"geq"},m={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250},y=function(){function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,e,r,n,i,s){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=i,this.column=s,this.name="SyntaxError"}function r(t){function r(){return Rt}function n(e){function r(e,r,n){var i,s;for(i=r;n>i;i++)s=t.charAt(i),"\n"===s?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return kt!==e&&(kt>e&&(kt=0,zt={line:1,column:1,seenCR:!1}),r(zt,kt,e),kt=e),zt}function i(t){Ht>Ot||(Ot>Ht&&(Ht=Ot,Nt=[]),Nt.push(t))}function s(r,i,s){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function r(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var n,i,s,a=new Array(t.length);for(s=0;s<t.length;s++)a[s]=t[s].description;return n=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],i=e?'"'+r(e)+'"':"end of input","Expected "+n+" but "+i+" found."}var l=n(s),u=s<t.length?t.charAt(s):null;return null!==i&&a(i),new e(null!==r?r:o(i,u),i,u,s,l.line,l.column)}function a(){var e,r,n,s,a,h,f,p;if(e=Ot,r=Ot,n=o(),n!==A?(58===t.charCodeAt(Ot)?(s=I,Ot++):(s=A,0===qt&&i(O)),s!==A?(n=[n,s],r=n):(Ot=r,r=S)):(Ot=r,r=S),r===A&&(r=T),r!==A)if(n=Ot,s=l(),s!==A?(a=c(),a!==A?(s=[s,a],n=s):(Ot=n,n=S)):(Ot=n,n=S),n===A&&(n=T),n!==A)if(s=u(),s!==A){for(a=[],h=Ot,f=c(),f!==A?(p=u(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S);h!==A;)a.push(h),h=Ot,f=c(),f!==A?(p=u(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S);a!==A?(h=Ot,f=c(),f!==A?(p=l(),p!==A?(f=[f,p],h=f):(Ot=h,h=S)):(Ot=h,h=S),h===A&&(h=T),h!==A?(Rt=e,r=R(r,n,s,a,h),e=r):(Ot=e,e=S)):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;else Ot=e,e=S;return e}function o(){var e,r;return e=Ot,72===t.charCodeAt(Ot)?(r=k,Ot++):(r=A,0===qt&&i(z)),r===A&&(86===t.charCodeAt(Ot)?(r=H,Ot++):(r=A,0===qt&&i(N))),r!==A&&(Rt=e,r=q(r)),e=r}function l(){var e,r;return e=Ot,124===t.charCodeAt(Ot)?(r=L,Ot++):(r=A,0===qt&&i(M)),r!==A&&(Rt=e,r=P()),e=r}function u(){var e,r,n,s,a;return e=Ot,91===t.charCodeAt(Ot)?(r=j,Ot++):(r=A,0===qt&&i(F)),r!==A?(n=y(),n!==A?(s=p(),s===A&&(s=T),s!==A?(93===t.charCodeAt(Ot)?(a=W,Ot++):(a=A,0===qt&&i(D)),a!==A?(Rt=e,r=U(n,s),e=r):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e}function c(){var e,r,n,s;return e=Ot,45===t.charCodeAt(Ot)?(r=Z,Ot++):(r=A,0===qt&&i(G)),r!==A?(n=h(),n!==A?(45===t.charCodeAt(Ot)?(s=Z,Ot++):(s=A,0===qt&&i(G)),s!==A?(Rt=e,r=X(n),e=r):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e===A&&(e=Ot,45===t.charCodeAt(Ot)?(r=Z,Ot++):(r=A,0===qt&&i(G)),r!==A&&(Rt=e,r=B()),e=r,e===A&&(e=Ot,r=Q,r!==A&&(Rt=e,r=K()),e=r)),e}function h(){var t;return t=f(),t===A&&(t=p()),t}function f(){var t,e;return t=Ot,e=w(),e!==A&&(Rt=t,e=J(e)),t=e}function p(){var e,r,n,s,a,o,l;if(e=Ot,40===t.charCodeAt(Ot)?(r=$,Ot++):(r=A,0===qt&&i(Y)),r!==A)if(n=d(),n!==A){for(s=[],a=Ot,44===t.charCodeAt(Ot)?(o=tt,Ot++):(o=A,0===qt&&i(et)),o!==A?(l=d(),l!==A?(o=[o,l],a=o):(Ot=a,a=S)):(Ot=a,a=S);a!==A;)s.push(a),a=Ot,44===t.charCodeAt(Ot)?(o=tt,Ot++):(o=A,0===qt&&i(et)),o!==A?(l=d(),l!==A?(o=[o,l],a=o):(Ot=a,a=S)):(Ot=a,a=S);s!==A?(41===t.charCodeAt(Ot)?(a=rt,Ot++):(a=A,0===qt&&i(nt)),a!==A?(Rt=e,r=it(n,s),e=r):(Ot=e,e=S)):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;return e}function d(){var e,r,n,s,a,o;return e=Ot,r=v(),r===A&&(r=T),r!==A?(n=g(),n!==A?(s=Ot,64===t.charCodeAt(Ot)?(a=st,Ot++):(a=A,0===qt&&i(at)),a!==A?(o=b(),o!==A?(a=[a,o],s=a):(Ot=s,s=S)):(Ot=s,s=S),s===A&&(s=T),s!==A?(Rt=e,r=ot(r,n,s),e=r):(Ot=e,e=S)):(Ot=e,e=S)):(Ot=e,e=S),e}function v(){var e,r;return e=Ot,t.substr(Ot,2)===lt?(r=lt,Ot+=2):(r=A,0===qt&&i(ut)),r!==A&&(Rt=e,r=ct()),e=r,e===A&&(e=Ot,t.substr(Ot,2)===ht?(r=ht,Ot+=2):(r=A,0===qt&&i(ft)),r!==A&&(Rt=e,r=pt()),e=r,e===A&&(e=Ot,t.substr(Ot,2)===dt?(r=dt,Ot+=2):(r=A,0===qt&&i(vt)),r!==A&&(Rt=e,r=gt()),e=r)),e}function g(){var t;return t=m(),t===A&&(t=y()),t}function b(){var e,r,n;if(e=Ot,r=[],bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt)),n!==A)for(;n!==A;)r.push(n),bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt));else r=S;return r!==A&&(Rt=e,r=yt(r)),e=r}function m(){var t,e;return t=Ot,e=w(),e!==A&&(Rt=t,e=wt(e)),t=e}function y(){var e,r,n,s,a;if(e=Ot,r=Ot,n=[],_t.test(t.charAt(Ot))?(s=t.charAt(Ot),Ot++):(s=A,0===qt&&i(Et)),s!==A)for(;s!==A;)n.push(s),_t.test(t.charAt(Ot))?(s=t.charAt(Ot),Ot++):(s=A,0===qt&&i(Et));else n=S;if(n!==A&&(n=t.substring(r,Ot)),r=n,r!==A){for(n=Ot,s=[],xt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===qt&&i(At));a!==A;)s.push(a),xt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===qt&&i(At));s!==A&&(s=t.substring(n,Ot)),n=s,n!==A?(Rt=e,r=Vt(r,n),e=r):(Ot=e,e=S)}else Ot=e,e=S;return e}function w(){var e,r,n,s,a;if(e=Ot,r=[],bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt)),n!==A)for(;n!==A;)r.push(n),bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt));else r=S;if(r!==A)if(46===t.charCodeAt(Ot)?(n=Ct,Ot++):(n=A,0===qt&&i(St)),n!==A){if(s=[],bt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===qt&&i(mt)),a!==A)for(;a!==A;)s.push(a),bt.test(t.charAt(Ot))?(a=t.charAt(Ot),Ot++):(a=A,0===qt&&i(mt));else s=S;s!==A?(Rt=e,r=Tt(r,s),e=r):(Ot=e,e=S)}else Ot=e,e=S;else Ot=e,e=S;if(e===A){if(e=Ot,r=[],bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt)),n!==A)for(;n!==A;)r.push(n),bt.test(t.charAt(Ot))?(n=t.charAt(Ot),Ot++):(n=A,0===qt&&i(mt));else r=S;r!==A&&(Rt=e,r=It(r)),e=r}return e}function _(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])t[r]=arguments[e][r];return t}var E,x=arguments.length>1?arguments[1]:{},A={},V={visualFormatString:a},C=a,S=A,T=null,I=":",O={type:"literal",value:":",description:'":"'},R=function(t,e,r,n,i){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([r],[].concat.apply([],n),i||[])}},k="H",z={type:"literal",value:"H",description:'"H"'},H="V",N={type:"literal",value:"V",description:'"V"'},q=function(t){return"H"==t?"horizontal":"vertical"},L="|",M={type:"literal",value:"|",description:'"|"'},P=function(){return{view:null}},j="[",F={type:"literal",value:"[",description:'"["'},W="]",D={type:"literal",value:"]",description:'"]"'},U=function(t,e){return _(t,e?{constraints:e}:{})},Z="-",G={type:"literal",value:"-",description:'"-"'},X=function(t){return t},B=function(){return[{relation:"equ",constant:"default",$parserOffset:r()}]},Q="",K=function(){return[{relation:"equ",constant:0,$parserOffset:r()}]},J=function(t){return[{relation:"equ",constant:t,$parserOffset:r()}]},$="(",Y={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},rt=")",nt={type:"literal",value:")",description:'")"'},it=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},st="@",at={type:"literal",value:"@",description:'"@"'},ot=function(t,e,r){return _({relation:"equ"},t||{},e,r?r[1]:{})},lt="==",ut={type:"literal",value:"==",description:'"=="'},ct=function(){return{relation:"equ",$parserOffset:r()}},ht="<=",ft={type:"literal",value:"<=",description:'"<="'},pt=function(){return{relation:"leq",$parserOffset:r()}},dt=">=",vt={type:"literal",value:">=",description:'">="'},gt=function(){return{relation:"geq",$parserOffset:r()}},bt=/^[0-9]/,mt={type:"class",value:"[0-9]",description:"[0-9]"},yt=function(t){return{priority:parseInt(t.join(""),10)}},wt=function(t){return{constant:t}},_t=/^[a-zA-Z_]/,Et={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},xt=/^[a-zA-Z0-9_]/,At={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Vt=function(t,e){return{view:t+e}},Ct=".",St={type:"literal",value:".",description:'"."'},Tt=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},It=function(t){return parseInt(t.join(""),10)},Ot=0,Rt=0,kt=0,zt={line:1,column:1,seenCR:!1},Ht=0,Nt=[],qt=0;if("startRule"in x){if(!(x.startRule in V))throw new Error("Can't start parsing from rule \""+x.startRule+'".');C=V[x.startRule]}if(E=C(),E!==A&&Ot===t.length)return E;throw E!==A&&Ot<t.length&&i({type:"end",description:"end of input"}),s(null,Nt,Ht)}return t(e,Error),{SyntaxError:e,parse:r}}(),w=function(){function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,e,r,n,i,s){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=i,this.column=s,this.name="SyntaxError"}function r(t){function r(){return $e}function n(e){function r(e,r,n){var i,s;for(i=r;n>i;i++)s=t.charAt(i),"\n"===s?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return Ye!==e&&(Ye>e&&(Ye=0,tr={line:1,column:1,seenCR:!1}),r(tr,Ye,e),Ye=e),tr}function i(t){er>Je||(Je>er&&(er=Je,rr=[]),rr.push(t))}function s(r,i,s){function a(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function o(t,e){function r(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var n,i,s,a=new Array(t.length);for(s=0;s<t.length;s++)a[s]=t[s].description;return n=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],i=e?'"'+r(e)+'"':"end of input","Expected "+n+" but "+i+" found."}var l=n(s),u=s<t.length?t.charAt(s):null;return null!==i&&a(i),new e(null!==r?r:o(i,u),i,u,s,l.line,l.column)}function a(){var e,r,n,s,a,h,f,d;if(e=Je,r=Je,n=o(),n!==q?(58===t.charCodeAt(Je)?(s=F,Je++):(s=q,0===nr&&i(W)),s!==q?(n=[n,s],r=n):(Je=r,r=P)):(Je=r,r=P),r===q&&(r=j),r!==q)if(n=Je,s=u(),s!==q?(a=p(),a!==q?(s=[s,a],n=s):(Je=n,n=P)):(Je=n,n=P),n===q&&(n=j),n!==q)if(s=c(),s!==q){for(a=[],h=Je,f=p(),f!==q?(d=c(),d!==q?(f=[f,d],h=f):(Je=h,h=P)):(Je=h,h=P);h!==q;)a.push(h),h=Je,f=p(),f!==q?(d=c(),d!==q?(f=[f,d],h=f):(Je=h,h=P)):(Je=h,h=P);a!==q?(h=Je,f=p(),f!==q?(d=u(),d!==q?(f=[f,d],h=f):(Je=h,h=P)):(Je=h,h=P),h===q&&(h=j),h!==q?(f=l(),f===q&&(f=j),f!==q?($e=e,r=D(r,n,s,a,h,f),e=r):(Je=e,e=P)):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;else Je=e,e=P;return e}function o(){var e,r;return e=Je,t.substr(Je,2)===U?(r=U,Je+=2):(r=q,0===nr&&i(Z)),r!==q&&($e=e,r=G()),e=r,e===q&&(e=Je,72===t.charCodeAt(Je)?(r=X,Je++):(r=q,0===nr&&i(B)),r!==q&&($e=e,r=Q()),e=r,e===q&&(e=Je,86===t.charCodeAt(Je)?(r=K,Je++):(r=q,0===nr&&i(J)),r!==q&&($e=e,r=$()),e=r,e===q&&(e=Je,90===t.charCodeAt(Je)?(r=Y,Je++):(r=q,0===nr&&i(tt)),r!==q&&($e=e,r=et()),e=r))),e}function l(){var e,r,n,s,a;for(e=Je,r=[],32===t.charCodeAt(Je)?(n=rt,Je++):(n=q,0===nr&&i(nt));n!==q;)r.push(n),32===t.charCodeAt(Je)?(n=rt,Je++):(n=q,0===nr&&i(nt));if(r!==q)if(t.substr(Je,2)===it?(n=it,Je+=2):(n=q,0===nr&&i(st)),n!==q){for(s=[],t.length>Je?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(at));a!==q;)s.push(a),t.length>Je?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(at));s!==q?(r=[r,n,s],e=r):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;return e}function u(){var e,r;return e=Je,124===t.charCodeAt(Je)?(r=ot,Je++):(r=q,0===nr&&i(lt)),r!==q&&($e=e,r=ut()),e=r}function c(){var e,r,n,s,a,o,l;if(e=Je,91===t.charCodeAt(Je)?(r=ct,Je++):(r=q,0===nr&&i(ht)),r!==q)if(n=h(),n!==q){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=h(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);a!==q;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=h(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);s!==q?(93===t.charCodeAt(Je)?(a=dt,Je++):(a=q,0===nr&&i(vt)),a!==q?($e=e,r=gt(n,s),e=r):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;return e}function h(){var t,e,r,n;return t=Je,e=I(),e!==q?(r=g(),r===q&&(r=j),r!==q?(n=f(),n===q&&(n=j),n!==q?($e=t,e=bt(e,r,n),t=e):(Je=t,t=P)):(Je=t,t=P)):(Je=t,t=P),t}function f(){var e,r,n,s,a,o;if(e=Je,58===t.charCodeAt(Je)?(r=F,Je++):(r=q,0===nr&&i(W)),r!==q){if(n=[],s=Je,a=p(),a!==q?(o=c(),o!==q?(a=[a,o],s=a):(Je=s,s=P)):(Je=s,s=P),s!==q)for(;s!==q;)n.push(s),s=Je,a=p(),a!==q?(o=c(),o!==q?(a=[a,o],s=a):(Je=s,s=P)):(Je=s,s=P);else n=P;n!==q?(s=p(),s!==q?($e=e,r=mt(n,s),e=r):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;return e}function p(){var e,r,n,s;return e=Je,t.substr(Je,2)===yt?(r=yt,Je+=2):(r=q,0===nr&&i(wt)),r!==q&&($e=e,r=_t()),e=r,e===q&&(e=Je,45===t.charCodeAt(Je)?(r=Et,Je++):(r=q,0===nr&&i(xt)),r!==q?(n=d(),n!==q?(45===t.charCodeAt(Je)?(s=Et,Je++):(s=q,0===nr&&i(xt)),s!==q?($e=e,r=At(n),e=r):(Je=e,e=P)):(Je=e,e=P)):(Je=e,e=P),e===q&&(e=Je,45===t.charCodeAt(Je)?(r=Et,Je++):(r=q,0===nr&&i(xt)),r!==q&&($e=e,r=Vt()),e=r,e===q&&(e=Je,126===t.charCodeAt(Je)?(r=Ct,Je++):(r=q,0===nr&&i(St)),r!==q?(n=m(),n!==q?(126===t.charCodeAt(Je)?(s=Ct,Je++):(s=q,0===nr&&i(St)),s!==q?($e=e,r=At(n),e=r):(Je=e,e=P)):(Je=e,e=P)):(Je=e,e=P),e===q&&(e=Je,126===t.charCodeAt(Je)?(r=Ct,Je++):(r=q,0===nr&&i(St)),r!==q&&($e=e,r=Tt()),e=r,e===q&&(e=Je,r=It,r!==q&&($e=e,r=Ot()),e=r))))),e}function d(){var t;return t=v(),t===q&&(t=g()),t}function v(){var t,e;return t=Je,e=A(),e!==q&&($e=t,e=Rt(e)),t=e,t===q&&(t=Je,e=k(),e!==q&&($e=t,e=kt(e)),t=e),t}function g(){var e,r,n,s,a,o,l;if(e=Je,40===t.charCodeAt(Je)?(r=zt,Je++):(r=q,0===nr&&i(Ht)),r!==q)if(n=b(),n!==q){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=b(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);a!==q;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=b(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);s!==q?(41===t.charCodeAt(Je)?(a=Nt,Je++):(a=q,0===nr&&i(qt)),a!==q?($e=e,r=Lt(n,s),e=r):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;return e}function b(){var e,r,n,s,a,o;return e=Je,r=w(),r===q&&(r=j),r!==q?(n=_(),n!==q?(s=Je,64===t.charCodeAt(Je)?(a=Mt,Je++):(a=q,0===nr&&i(Pt)),a!==q?(o=E(),o!==q?(a=[a,o],s=a):(Je=s,s=P)):(Je=s,s=P),s===q&&(s=j),s!==q?($e=e,r=jt(r,n,s),e=r):(Je=e,e=P)):(Je=e,e=P)):(Je=e,e=P),e}function m(){var e,r,n,s,a,o,l;if(e=Je,40===t.charCodeAt(Je)?(r=zt,Je++):(r=q,0===nr&&i(Ht)),r!==q)if(n=y(),n!==q){for(s=[],a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=y(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);a!==q;)s.push(a),a=Je,44===t.charCodeAt(Je)?(o=ft,Je++):(o=q,0===nr&&i(pt)),o!==q?(l=y(),l!==q?(o=[o,l],a=o):(Je=a,a=P)):(Je=a,a=P);s!==q?(41===t.charCodeAt(Je)?(a=Nt,Je++):(a=q,0===nr&&i(qt)),a!==q?($e=e,r=Lt(n,s),e=r):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;return e}function y(){var e,r,n,s,a,o;return e=Je,r=w(),r===q&&(r=j),r!==q?(n=_(),n!==q?(s=Je,64===t.charCodeAt(Je)?(a=Mt,Je++):(a=q,0===nr&&i(Pt)),a!==q?(o=E(),o!==q?(a=[a,o],s=a):(Je=s,s=P)):(Je=s,s=P),s===q&&(s=j),s!==q?($e=e,r=Ft(r,n,s),e=r):(Je=e,e=P)):(Je=e,e=P)):(Je=e,e=P),e}function w(){var e,r;return e=Je,t.substr(Je,2)===Wt?(r=Wt,Je+=2):(r=q,0===nr&&i(Dt)),r!==q&&($e=e,r=Ut()),e=r,e===q&&(e=Je,t.substr(Je,2)===Zt?(r=Zt,Je+=2):(r=q,0===nr&&i(Gt)),r!==q&&($e=e,r=Xt()),e=r,e===q&&(e=Je,t.substr(Je,2)===Bt?(r=Bt,Je+=2):(r=q,0===nr&&i(Qt)),r!==q&&($e=e,r=Kt()),e=r)),e}function _(){var t;return t=A(),t===q&&(t=x(),t===q&&(t=V())),t}function E(){var e,r,n;if(e=Je,r=[],Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t)),n!==q)for(;n!==q;)r.push(n),Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t));else r=P;return r!==q&&($e=e,r=Yt(r)),e=r}function x(){var t,e;return t=Je,e=k(),e!==q&&($e=t,e=te(e)),t=e}function A(){var e,r,n;return e=Je,r=k(),r!==q?(37===t.charCodeAt(Je)?(n=ee,Je++):(n=q,0===nr&&i(re)),n!==q?($e=e,r=ne(r),e=r):(Je=e,e=P)):(Je=e,e=P),e}function V(){var t,e,r,n,i;return t=Je,
e=O(),e!==q?(r=C(),r===q&&(r=j),r!==q?(n=S(),n===q&&(n=j),n!==q?(i=T(),i===q&&(i=j),i!==q?($e=t,e=ie(e,r,n,i),t=e):(Je=t,t=P)):(Je=t,t=P)):(Je=t,t=P)):(Je=t,t=P),t}function C(){var e,r;return e=Je,t.substr(Je,5)===se?(r=se,Je+=5):(r=q,0===nr&&i(ae)),r!==q&&($e=e,r=oe()),e=r,e===q&&(e=Je,t.substr(Je,6)===le?(r=le,Je+=6):(r=q,0===nr&&i(ue)),r!==q&&($e=e,r=ce()),e=r,e===q&&(e=Je,t.substr(Je,4)===he?(r=he,Je+=4):(r=q,0===nr&&i(fe)),r!==q&&($e=e,r=pe()),e=r,e===q&&(e=Je,t.substr(Je,7)===de?(r=de,Je+=7):(r=q,0===nr&&i(ve)),r!==q&&($e=e,r=ge()),e=r,e===q&&(e=Je,t.substr(Je,6)===be?(r=be,Je+=6):(r=q,0===nr&&i(me)),r!==q&&($e=e,r=ye()),e=r,e===q&&(e=Je,t.substr(Je,7)===we?(r=we,Je+=7):(r=q,0===nr&&i(_e)),r!==q&&($e=e,r=Ee()),e=r,e===q&&(e=Je,t.substr(Je,8)===xe?(r=xe,Je+=8):(r=q,0===nr&&i(Ae)),r!==q&&($e=e,r=Ve()),e=r,e===q&&(e=Je,t.substr(Je,8)===Ce?(r=Ce,Je+=8):(r=q,0===nr&&i(Se)),r!==q&&($e=e,r=Te()),e=r))))))),e}function S(){var e,r,n;return e=Je,47===t.charCodeAt(Je)?(r=Ie,Je++):(r=q,0===nr&&i(Oe)),r!==q?(n=k(),n!==q?($e=e,r=Re(n),e=r):(Je=e,e=P)):(Je=e,e=P),e===q&&(e=Je,42===t.charCodeAt(Je)?(r=ke,Je++):(r=q,0===nr&&i(ze)),r!==q?(n=k(),n!==q?($e=e,r=He(n),e=r):(Je=e,e=P)):(Je=e,e=P)),e}function T(){var e,r,n;return e=Je,45===t.charCodeAt(Je)?(r=Et,Je++):(r=q,0===nr&&i(xt)),r!==q?(n=k(),n!==q?($e=e,r=Ne(n),e=r):(Je=e,e=P)):(Je=e,e=P),e===q&&(e=Je,43===t.charCodeAt(Je)?(r=qe,Je++):(r=q,0===nr&&i(Le)),r!==q?(n=k(),n!==q?($e=e,r=He(n),e=r):(Je=e,e=P)):(Je=e,e=P)),e}function I(){var e,r,n,s,a;if(e=Je,r=Je,n=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe)),s!==q)for(;s!==q;)n.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe));else n=P;if(n!==q&&(n=t.substring(r,Je)),r=n,r!==q){for(n=Je,s=[],je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));a!==q;)s.push(a),je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));s!==q&&(s=t.substring(n,Je)),n=s,n!==q?(s=R(),s!==q?($e=e,r=We(r,n,s),e=r):(Je=e,e=P)):(Je=e,e=P)}else Je=e,e=P;if(e===q){if(e=Je,r=Je,n=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe)),s!==q)for(;s!==q;)n.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe));else n=P;if(n!==q&&(n=t.substring(r,Je)),r=n,r!==q){for(n=Je,s=[],je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));a!==q;)s.push(a),je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));s!==q&&(s=t.substring(n,Je)),n=s,n!==q?($e=e,r=De(r,n),e=r):(Je=e,e=P)}else Je=e,e=P}return e}function O(){var e,r,n,s,a;if(e=Je,r=Je,n=[],Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe)),s!==q)for(;s!==q;)n.push(s),Me.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i(Pe));else n=P;if(n!==q&&(n=t.substring(r,Je)),r=n,r!==q){for(n=Je,s=[],je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));a!==q;)s.push(a),je.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i(Fe));s!==q&&(s=t.substring(n,Je)),n=s,n!==q?($e=e,r=De(r,n),e=r):(Je=e,e=P)}else Je=e,e=P;return e}function R(){var e,r,n,s;if(e=Je,t.substr(Je,2)===Ue?(r=Ue,Je+=2):(r=q,0===nr&&i(Ze)),r!==q){if(n=[],Jt.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i($t)),s!==q)for(;s!==q;)n.push(s),Jt.test(t.charAt(Je))?(s=t.charAt(Je),Je++):(s=q,0===nr&&i($t));else n=P;n!==q?($e=e,r=Ge(n),e=r):(Je=e,e=P)}else Je=e,e=P;return e}function k(){var e,r,n,s,a;if(e=Je,r=[],Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t)),n!==q)for(;n!==q;)r.push(n),Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t));else r=P;if(r!==q)if(46===t.charCodeAt(Je)?(n=Xe,Je++):(n=q,0===nr&&i(Be)),n!==q){if(s=[],Jt.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i($t)),a!==q)for(;a!==q;)s.push(a),Jt.test(t.charAt(Je))?(a=t.charAt(Je),Je++):(a=q,0===nr&&i($t));else s=P;s!==q?($e=e,r=Qe(r,s),e=r):(Je=e,e=P)}else Je=e,e=P;else Je=e,e=P;if(e===q){if(e=Je,r=[],Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t)),n!==q)for(;n!==q;)r.push(n),Jt.test(t.charAt(Je))?(n=t.charAt(Je),Je++):(n=q,0===nr&&i($t));else r=P;r!==q&&($e=e,r=Ke(r)),e=r}return e}function z(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])t[r]=arguments[e][r];return t}var H,N=arguments.length>1?arguments[1]:{},q={},L={visualFormatString:a},M=a,P=q,j=null,F=":",W={type:"literal",value:":",description:'":"'},D=function(t,e,r,n,i,s){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(r,[].concat.apply([],n),i||[])}},U="HV",Z={type:"literal",value:"HV",description:'"HV"'},G=function(){return"horzvert"},X="H",B={type:"literal",value:"H",description:'"H"'},Q=function(){return"horizontal"},K="V",J={type:"literal",value:"V",description:'"V"'},$=function(){return"vertical"},Y="Z",tt={type:"literal",value:"Z",description:'"Z"'},et=function(){return"zIndex"},rt=" ",nt={type:"literal",value:" ",description:'" "'},it="//",st={type:"literal",value:"//",description:'"//"'},at={type:"any",description:"any character"},ot="|",lt={type:"literal",value:"|",description:'"|"'},ut=function(){return{view:null}},ct="[",ht={type:"literal",value:"[",description:'"["'},ft=",",pt={type:"literal",value:",",description:'","'},dt="]",vt={type:"literal",value:"]",description:'"]"'},gt=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},bt=function(t,e,r){return z(z(t,e?{constraints:e}:{}),r?{cascade:r}:{})},mt=function(t,e){return[].concat([].concat.apply([],t),[e])},yt="->",wt={type:"literal",value:"->",description:'"->"'},_t=function(){return[{relation:"none"}]},Et="-",xt={type:"literal",value:"-",description:'"-"'},At=function(t){return t},Vt=function(){return[{relation:"equ",constant:"default"}]},Ct="~",St={type:"literal",value:"~",description:'"~"'},Tt=function(){return[{relation:"equ",equalSpacing:!0}]},It="",Ot=function(){return[{relation:"equ",constant:0}]},Rt=function(t){return[{relation:"equ",multiplier:t.multiplier}]},kt=function(t){return[{relation:"equ",constant:t}]},zt="(",Ht={type:"literal",value:"(",description:'"("'},Nt=")",qt={type:"literal",value:")",description:'")"'},Lt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Mt="@",Pt={type:"literal",value:"@",description:'"@"'},jt=function(t,e,r){return z({relation:"equ"},t||{},e,r?r[1]:{})},Ft=function(t,e,r){return z({relation:"equ",equalSpacing:!0},t||{},e,r?r[1]:{})},Wt="==",Dt={type:"literal",value:"==",description:'"=="'},Ut=function(){return{relation:"equ"}},Zt="<=",Gt={type:"literal",value:"<=",description:'"<="'},Xt=function(){return{relation:"leq"}},Bt=">=",Qt={type:"literal",value:">=",description:'">="'},Kt=function(){return{relation:"geq"}},Jt=/^[0-9]/,$t={type:"class",value:"[0-9]",description:"[0-9]"},Yt=function(t){return{priority:parseInt(t.join(""),10)}},te=function(t){return{constant:t}},ee="%",re={type:"literal",value:"%",description:'"%"'},ne=function(t){return{view:null,multiplier:t/100}},ie=function(t,e,r,n){return{view:t.view,attribute:e?e:void 0,multiplier:r?r:1,constant:n?n:void 0}},se=".left",ae={type:"literal",value:".left",description:'".left"'},oe=function(){return"left"},le=".right",ue={type:"literal",value:".right",description:'".right"'},ce=function(){return"right"},he=".top",fe={type:"literal",value:".top",description:'".top"'},pe=function(){return"top"},de=".bottom",ve={type:"literal",value:".bottom",description:'".bottom"'},ge=function(){return"bottom"},be=".width",me={type:"literal",value:".width",description:'".width"'},ye=function(){return"width"},we=".height",_e={type:"literal",value:".height",description:'".height"'},Ee=function(){return"height"},xe=".centerX",Ae={type:"literal",value:".centerX",description:'".centerX"'},Ve=function(){return"centerX"},Ce=".centerY",Se={type:"literal",value:".centerY",description:'".centerY"'},Te=function(){return"centerY"},Ie="/",Oe={type:"literal",value:"/",description:'"/"'},Re=function(t){return 1/t},ke="*",ze={type:"literal",value:"*",description:'"*"'},He=function(t){return t},Ne=function(t){return-t},qe="+",Le={type:"literal",value:"+",description:'"+"'},Me=/^[a-zA-Z_]/,Pe={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},je=/^[a-zA-Z0-9_]/,Fe={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},We=function(t,e,n){return{view:t+e,range:n,$parserOffset:r()}},De=function(t,e){return{view:t+e,$parserOffset:r()}},Ue="..",Ze={type:"literal",value:"..",description:'".."'},Ge=function(t){return parseInt(t)},Xe=".",Be={type:"literal",value:".",description:'"."'},Qe=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Ke=function(t){return parseInt(t.join(""),10)},Je=0,$e=0,Ye=0,tr={line:1,column:1,seenCR:!1},er=0,rr=[],nr=0;if("startRule"in N){if(!(N.startRule in L))throw new Error("Can't start parsing from rule \""+N.startRule+'".');M=L[N.startRule]}if(H=M(),H!==q&&Je===t.length)return H;throw H!==q&&Je<t.length&&i({type:"end",description:"end of input"}),s(null,rr,er)}return t(e,Error),{SyntaxError:e,parse:r}}(),_={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},E=["viewport","spacing","colors","shapes","widths","heights"],x=function(){function t(){n(this,t)}return d(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var r=e&&e.extended?w.parse(t):y.parse(t);if(e&&"raw"===e.outFormat)return[r];var n={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};switch(r.orientation){case"horizontal":n.orientation=_.HORIZONTAL,n.horizontal=!0,l(n,r.cascade,null);break;case"vertical":n.orientation=_.VERTICAL,l(n,r.cascade,null);break;case"horzvert":n.orientation=_.HORIZONTAL,n.horizontal=!0,l(n,r.cascade,null),n={constraints:n.constraints,lineIndex:n.lineIndex,subViews:n.subViews,orientation:_.VERTICAL},l(n,r.cascade,null);break;case"zIndex":n.orientation=_.ZINDEX,l(n,r.cascade,null)}return n.constraints}},{key:"parse",value:function(t,e){var r=e&&e.lineSeperator?e.lineSeperator:"\n";if(!Array.isArray(t)&&t.indexOf(r)<0)try{return this.parseLine(t,e)}catch(n){throw n.source=t,n}t=Array.isArray(t)?t:[t];var i=void 0,s=[],a=0,o=void 0,l={lineIndex:a,extended:e&&e.extended,strict:e&&void 0!==e.strict?e.strict:!0,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var u=0;u<t.length;u++){i=t[u].split(r);for(var c=0;c<i.length;c++)o=i[c],a++,l.lineIndex=a,l.strict||(o=o.trim()),(l.strict||o.length)&&(s=s.concat(this.parseLine(o,l)))}}catch(n){throw n.source=o,n.line=a,n}return s}},{key:"parseMetaInfo",value:function(t,e){var r=e&&e.lineSeperator?e.lineSeperator:"\n",n=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var i,s={},a=0;a<t.length;a++)for(var l=t[a].split(r),u=0;u<l.length;u++)for(var c=l[u],h=0;h<E.length;h++)for(var f=0;(n?2:1)>f;f++){var p=E[h],d=(0===f?"":n)+p;if(0===c.indexOf("//"+d+" "))for(var v=c.substring(3+d.length).split(" "),g=0;g<v.length;g++){s[p]=s[p]||{};for(var b=v[g].split(":"),m=o(b[0],!0),y=0;y<m.length;y++)s[p][m[y]]=b.length>1?b[1]:""}else 0===c.indexOf("//"+d+":")&&(s[p]=c.substring(3+d.length))}if(s.viewport){var w=s.viewport,_=w["aspect-ratio"];_&&(_=_.split("/"),w["aspect-ratio"]=parseInt(_[0])/parseInt(_[1])),void 0!==w.height&&(w.height="intrinsic"===w.height?!0:parseInt(w.height)),void 0!==w.width&&(w.width="intrinsic"===w.width?!0:parseInt(w.width)),void 0!==w["max-height"]&&(w["max-height"]=parseInt(w["max-height"])),void 0!==w["max-width"]&&(w["max-width"]=parseInt(w["max-width"])),void 0!==w["min-height"]&&(w["min-height"]=parseInt(w["min-height"])),void 0!==w["min-width"]&&(w["min-width"]=parseInt(w["min-width"]))}if(s.widths)for(i in s.widths){var x="intrinsic"===s.widths[i]?!0:parseInt(s.widths[i]);s.widths[i]=x,(void 0===x||isNaN(x))&&delete s.widths[i]}if(s.heights)for(i in s.heights){var A="intrinsic"===s.heights[i]?!0:parseInt(s.heights[i]);s.heights[i]=A,(void 0===A||isNaN(A))&&delete s.heights[i]}if(s.spacing){var V=JSON.parse(s.spacing);s.spacing=V,(void 0===V||isNaN(V))&&delete s.spacing}return s}}]),t}(),A=function(){function t(e){n(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[g.LEFT]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.LEFT],v.Strength.required)),this._attr[g.TOP]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.TOP],v.Strength.required)),this._attr[g.ZINDEX]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[g.ZINDEX],v.Strength.required)))}return d(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new v.Variable,t){case g.RIGHT:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.LEFT],this._attr[g.WIDTH])));break;case g.BOTTOM:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.TOP],this._attr[g.HEIGHT])));break;case g.CENTERX:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.LEFT],v.divide(this._attr[g.WIDTH],2))));break;case g.CENTERY:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[g.TOP],v.divide(this._attr[g.HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(g.LEFT)}},{key:"right",get:function(){return this._getAttrValue(g.RIGHT)}},{key:"width",get:function(){return this._getAttrValue(g.WIDTH)}},{key:"height",get:function(){return this._getAttrValue(g.HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(g.WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(g.HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(g.TOP)}},{key:"bottom",get:function(){return this._getAttrValue(g.BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(g.CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(g.CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(g.ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}(),V=new v.Strength("defaultPriority",0,1e3,1e3),C=function(){function t(e){n(this,t),this._solver=new v.SimplexSolver,this._subViews={},this._parentSubView=new A({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&((void 0!==e.width||void 0!==e.height)&&this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return d(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!p(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return f.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)f.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}(),S={Attribute:g,Relation:b,Priority:m,VisualFormat:x,View:C,SubView:A};e.exports=S},{"cassowary/bin/c":2}],2:[function(t,e,r){(function(){!function(r){"use strict";try{(function(){}).bind(r)}catch(n){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var i=void 0!==r.HTMLElement,s=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},a=1e-8,o={},l=function(t,e){var r=!0;t:for(;r;){var n=t,i=e;if(s=void 0,r=!1,n&&i){if("function"==typeof n[i])return n[i];var s=n.prototype;if(s&&"function"==typeof s[i])return s[i];if(s!==Object.prototype&&s!==Function.prototype){if("function"==typeof n.__super__){t=n.__super__,e=i,r=!0;continue t}return void 0}}}},u=r.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var e=null,n=null;t["extends"]&&(n=t["extends"],delete t["extends"]),t.initialize&&(e=t.initialize,delete t.initialize);var a=e||function(){};Object.defineProperty(a,"__super__",{value:n?n:Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(o[t._t]=a);var l=a.prototype=Object.create(n?n.prototype:Object.prototype);if(this.extend(l,t),i&&n&&n.prototype instanceof r.HTMLElement){var u=a,c=s(l),h=function(t){return t.__proto__=l,u.apply(t,arguments),l.created&&t.created(),l.decorate&&t.decorate(),t};this.extend(l,{upgrade:h}),a=function(){return h(r.document.createElement(c))},a.prototype=l,this.extend(a,{ctor:u})}return a},extend:function(t,e){return this.own(e,function(r){var n=Object.getOwnPropertyDescriptor(e,r);try{"function"==typeof n.get||"function"==typeof n.set?Object.defineProperty(t,r,n):"function"==typeof n.value||"_"===r.charAt(0)?(n.writable=!0,n.configurable=!0,n.enumerable=!1,Object.defineProperty(t,r,n)):t[r]=e[r]}catch(i){}}),t},own:function(t,e,n){return Object.getOwnPropertyNames(t).forEach(e,n||r),t},traceprint:function(t){u.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new u.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var r,n;return r=t instanceof u.Variable?t.value:t,n=e instanceof u.Variable?e.value:e,0==r?a>Math.abs(n):0==n?a>Math.abs(r):Math.abs(r-n)<Math.abs(r)*a},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var r=e._t,n=o[r];if(r&&n){var i=l(n,"fromJSON");if(i)return i(e,n)}return e})}};"function"==typeof t&&"undefined"!=typeof e&&"undefined"==typeof load&&(r.exports=u)}(this),function(t){"use strict";var e=function i(t){var i=t.hashCode?t.hashCode:""+t;return i},r=function(t,e){Object.keys(t).forEach(function(r){e[r]=t[r]})},n={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,r){var n=e(t);this._store.hasOwnProperty(n)||this.size++,this._store[n]=r,this._keyStrMap[n]=t},get:function(t){if(!this.size)return null;t=e(t);var r=this._store[t];return void 0!==r?this._store[t]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};r(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var r=this._store,n=this._keyStrMap;Object.keys(this._store).forEach(function(i){t.call(e||null,n[i],r[i])},this)}},escapingEach:function(t,e){if(this.size){this._perhapsCompact();for(var r=this,i=this._store,s=this._keyStrMap,a=n,o=Object.keys(i),l=0;o.length>l;l++)if(function(n){r._store.hasOwnProperty(n)&&(a=t.call(e||null,s[n],i[n]))}(o[l]),a){if(void 0!==a.retval)return a;if(a.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,r(this._store,e._store),r(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var r=Object.keys(this._store),n=0;r.length>n;n++){var i=r[n];if(this._keyStrMap[i]!==e._keyStrMap[i]||this._store[i]!==e._store[i])return!1}return!0},toString:function(){var t="";return this.each(function(e,r){t+=e+" => "+r+"\n"}),t}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){var e=this.storage;return-1!=e.indexOf(t)},"delete":function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(r){e?e=!1:t+=", ",t+=r}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var r=new t.HashSet;return e.data&&(r.size=e.data.length,r.storage=e.data),r}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Error=t.inherit(Object.defineProperties({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",toString:function(){return this.description}},{description:{set:function(t){this._description=t},get:function(){return"("+this._name+") "+this._description},configurable:!0,enumerable:!0},message:{get:function(){return this.description},configurable:!0,enumerable:!0}}));var e=function(e,r){return t.inherit({"extends":t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:r||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(t){"use strict";var e=1e3;t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,r=arguments.length-1;r>=0;--r)this.value+=arguments[r]*t,t*=e},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(t){t.Strength=t.inherit(Object.defineProperties({initialize:function(e,r,n,i){this.name=e,this.symbolicWeight=r instanceof t.SymbolicWeight?r:new t.SymbolicWeight(r,n,i)},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}},{required:{get:function(){return this===t.Strength.required},configurable:!0,enumerable:!0}})),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof e?e.parent.exports.c:{})),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,r){this.hashCode=t._inc(),this.name=(r||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,r){var n=new r;return t.extend(n,e),n},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable","extends":t.AbstractVariable,initialize:function(e){this._init(e,"v");var r=t.Variable._map;r&&(r[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable","extends":t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Point=t.inherit(Object.defineProperties({initialize:function(e,r,n){if(e instanceof t.Variable)this._x=e;else{var i={value:e};n&&(i.name="x"+n),this._x=new t.Variable(i)}if(r instanceof t.Variable)this._y=r;else{var s={value:r};n&&(s.name="y"+n),this._y=new t.Variable(s)}},toString:function(){return"("+this.x+", "+this.y+")"}},{x:{get:function(){return this._x},set:function(e){e instanceof t.Variable?this._x=e:this._x.value=e},configurable:!0,enumerable:!0},y:{get:function(){return this._y},set:function(e){e instanceof t.Variable?this._y=e:this._y.value=e},configurable:!0,enumerable:!0}}))}(this.c||e.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit(Object.defineProperties({initialize:function(e,r,n){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof n||isNaN(n)?0:n,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof r?r:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,r){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=r.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(r,n){e.set(r,n*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,r,n,i){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),r=r||1,this.constant+=r*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*r,n,i)},this),this},addVariable:function(e,r,n,i){null==r&&(r=1),t.trace&&console.log("c.Expression::addVariable():",e,r);var s=this.terms.get(e);if(s){var a=s+r;0==a||t.approx(a,0)?(i&&i.noteRemovedVariable(e,n),this.terms["delete"](e)):this.setVariable(e,a)}else t.approx(r,0)||(this.setVariable(e,r),i&&i.noteAddedVariable(e,n));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,r,n,i){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+r+", "+n+", ..."),t.traceprint("this = "+this));var s=this.setVariable.bind(this),a=this.terms,o=a.get(e);a["delete"](e),this.constant+=o*r.constant,r.terms.each(function(e,r){var l=a.get(e);if(l){var u=l+o*r;t.approx(u,0)?(i.noteRemovedVariable(e,n),a["delete"](e)):s(e,u)}else s(e,o*r),i&&i.noteAddedVariable(e,n)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var r=1/this.terms.get(e);return this.terms["delete"](e),this.multiplyMe(-r),r},coefficientFor:function(t){return this.terms.get(t)||0},toString:function(){var e="",r=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;r=!0}return this.terms.each(function(t,n){r&&(e+=" + "),e+=n+"*"+t,r=!0}),e},equals:function(e){return e===this?!0:e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}},{isConstant:{get:function(){return 0==this.terms.size},configurable:!0,enumerable:!0}}))}(this.c||e.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit(Object.defineProperties({initialize:function(e,r){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=r||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}},{required:{get:function(){return this.strength===t.Strength.required},configurable:!0,enumerable:!0}}));var e=t.AbstractConstraint.prototype.toString,r=function(e,r,n){t.AbstractConstraint.call(this,r||t.Strength.strong,n),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){r.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(){r.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var n=t.Constraint=t.inherit({"extends":t.AbstractConstraint,initialize:function(e,r,n){t.AbstractConstraint.call(this,r,n),this.expression=e}});t.Inequality=t.inherit({"extends":t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,r,i,s,a){var o=e instanceof t.Expression,l=i instanceof t.Expression,u=e instanceof t.AbstractVariable,c=i instanceof t.AbstractVariable,h="number"==typeof e,f="number"==typeof i;if((o||h)&&c){
var p=e,d=r,v=i,g=s,b=a;if(n.call(this,this._cloneOrNewCle(p),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else if(u&&(l||f)){var p=i,d=r,v=e,g=s,b=a;if(n.call(this,this._cloneOrNewCle(p),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else{if(o&&f){var m=e,d=r,y=i,g=s,b=a;if(n.call(this,this._cloneOrNewCle(m),g,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(h&&l){var m=i,d=r,y=e,g=s,b=a;if(n.call(this,this._cloneOrNewCle(m),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(o&&l){var m=e,d=r,y=i,g=s,b=a;if(n.call(this,this._cloneOrNewCle(y),g,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(m));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(m),-1)}}else{if(o)return n.call(this,e,r,i);if(r==t.GEQ)n.call(this,new t.Expression(i),s,a),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(r!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");n.call(this,new t.Expression(i),s,a),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return n.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({"extends":t.Constraint,initialize:function(e,r,i,s){if(e instanceof t.Expression&&!r||r instanceof t.Strength)n.call(this,e,r,i);else if(e instanceof t.AbstractVariable&&r instanceof t.Expression){var a=e,o=r,l=i,u=s;n.call(this,o.clone(),l,u),this.expression.addVariable(a,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof r){var a=e,c=r,l=i,u=s;n.call(this,new t.Expression(c),l,u),this.expression.addVariable(a,-1)}else if(e instanceof t.Expression&&r instanceof t.AbstractVariable){var o=e,a=r,l=i,u=s;n.call(this,o.clone(),l,u),this.expression.addVariable(a,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(r instanceof t.Expression||r instanceof t.AbstractVariable||"number"==typeof r))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),r=r instanceof t.Expression?r.clone():new t.Expression(r),n.call(this,e,i,s),this.expression.addExpression(r,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return n.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,r,n,i){this.constraint=t,this.editPlus=e,this.editMinus=r,this.prevEditConstant=n,this.index=i},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,r){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,r);var n=this.columns.get(e);r&&n&&n["delete"](r)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,r){t+=e,t+=" <==> ",t+=r,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,r){var n=this.columns.get(e);n||(n=new t.HashSet,this.columns.set(e,n)),n.add(r)},addRow:function(e,r){t.trace&&t.fnenterprint("addRow: "+e+", "+r),this.rows.set(e,r),r.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var r=this.columns.get(e);r?(this.columns["delete"](e),r.each(function(t){var r=this.rows.get(t);r.terms["delete"](e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows["delete"](e),this._externalParametricVars["delete"](e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var r=this.rows.get(e);return t.assert(null!=r),r.terms.each(function(r){var n=this.columns.get(r);null!=n&&(t.trace&&console.log("removing from varset:",e),n["delete"](e))},this),this._infeasibleRows["delete"](e),e.isExternal&&this._externalRows["delete"](e),this.rows["delete"](e),t.trace&&t.fnexitprint("returning "+r),r},substituteOut:function(e,r){t.trace&&t.fnenterprint("substituteOut:"+e+", "+r),t.trace&&t.traceprint(""+this);var n=this.columns.get(e);n.each(function(t){var n=this.rows.get(t);n.substituteOut(e,r,t,this),t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars["delete"](e)),this.columns["delete"](e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||e.parent.exports||{}),function(t){var e=t.Tableau,r=e.prototype,n=1e-8,i=t.Strength.weak;t.SimplexSolver=t.inherit({"extends":t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,r){var n=new t.Inequality(e,t.GEQ,new t.Expression(r));return this.addConstraint(n)},addUpperBound:function(e,r){var n=new t.Inequality(e,t.LEQ,new t.Expression(r));return this.addConstraint(n)},addBounds:function(t,e,r){return this.addLowerBound(t,e),this.addUpperBound(t,r),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var r=Array(2),n=Array(1),i=this.newExpression(e,r,n);if(n=n[0],this.tryAddingDirectly(i)||this.addWithArtificialVariable(i),this._fNeedsSolving=!0,e.isEditConstraint){var s=this._editVarMap.size,a=r[0],o=r[1];!a instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",a),!o instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",o),t.debug&&console.log("new c.EditInfo("+e+", "+a+", "+o+", "+n+", "+s+")");var l=new t.EditInfo(e,a,o,n,s);this._editVarMap.set(e.variable,l),this._editVarList[s]={v:e.variable,info:l}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(r){return!1}},addEditVar:function(e,r){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+r),this.addConstraint(new t.EditConstraint(e,r||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var r=this._editVarList.length,n=e;r>n;n++)this._editVarList[n]&&this.removeConstraint(this._editVarMap.get(this._editVarList[n].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(i){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,i,Math.pow(2,e)),this.addStay(t.y,i,Math.pow(2,e))},this),this},addStay:function(e,r,n){var s=new t.StayConstraint(e,r||i,n||1);return this.addConstraint(s)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var r=this.rows.get(this._objective),n=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+n),null!=n&&n.each(function(i){var s=this.rows.get(i);null==s?r.addVariable(i,-e.weight*e.strength.symbolicWeight.value,this._objective,this):r.addExpression(s,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+n)},this);var i=this._markerVars.get(e);if(this._markerVars["delete"](e),null==i)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+i),null==this.rows.get(i)){var s=this.columns.get(i);t.trace&&t.traceprint("Must pivot -- columns are "+s);var a=null,o=0;s.each(function(e){if(e.isRestricted){var r=this.rows.get(e),n=r.coefficientFor(i);if(t.trace&&t.traceprint("Marker "+i+"'s coefficient in "+r+" is "+n),0>n){var s=-r.constant/n;(null==a||o>s||t.approx(s,o)&&e.hashCode<a.hashCode)&&(o=s,a=e)}}},this),null==a&&(t.trace&&t.traceprint("exitVar is still null"),s.each(function(t){if(t.isRestricted){var e=this.rows.get(t),r=e.coefficientFor(i),n=e.constant/r;(null==a||o>n)&&(o=n,a=t)}},this)),null==a&&(0==s.size?this.removeColumn(i):s.escapingEach(function(t){return t!=this._objective?(a=t,{brk:!0}):void 0},this)),null!=a&&this.pivot(i,a)}if(null!=this.rows.get(i)&&this.removeRow(i),null!=n&&n.each(function(t){t!=i&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=n)for(var l=0;this._stayPlusErrorVars.length>l;l++)n["delete"](this._stayPlusErrorVars[l]),n["delete"](this._stayMinusErrorVars[l])}else if(e.isEditConstraint){t.assert(null!=n,"eVars != null");var u=this._editVarMap.get(e.variable);this.removeColumn(u.editMinus),this._editVarMap["delete"](e.variable)}return null!=n&&this._errorVars["delete"](n),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var r=e.length;this._editVarMap.each(function(t,n){var i=n.index;r>i&&this.suggestValue(t,e[i])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,r){t.trace&&console.log("suggestValue("+e+", "+r+")");var n=this._editVarMap.get(e);if(!n)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var i=r-n.prevEditConstant;return n.prevEditConstant=r,this.deltaEditConstant(i,n.editPlus,n.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,r){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=r,this;if(!t.approx(r,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,r)}catch(n){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(r){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=r.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=r.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var r=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),n=new t.ObjectiveVariable({name:"az"}),i=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(n,i),this.addRow(r,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(n);var s=this.rows.get(n);if(t.trace&&t.traceprint("azTableauRow.constant == "+s.constant),!t.approx(s.constant,0))throw this.removeRow(n),this.removeColumn(r),new t.RequiredFailure;var a=this.rows.get(r);if(null!=a){if(a.isConstant)return this.removeRow(r),void this.removeRow(n);var o=a.anyPivotableVariable();this.pivot(o,r)}t.assert(null==this.rows.get(r),"rowExpression(av) == null"),this.removeColumn(r),this.removeRow(n)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var r=this.chooseSubject(e);return null==r?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(r),this.columnsHasKey(r)&&this.substituteOut(r,e),this.addRow(r,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var r=null,n=!1,i=!1,s=e.terms,a=s.escapingEach(function(t,e){if(n){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!i&&!t.isDummy&&0>e){var s=this.columns.get(t);(null==s||1==s.size&&this.columnsHasKey(this._objective))&&(r=t,i=!0)}}else r=t,n=!0},this);if(a&&void 0!==a.retval)return a.retval;if(null!=r)return r;var o=0,a=s.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(r=t,o=e)):{retval:null}},this);if(a&&void 0!==a.retval)return a.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return o>0&&e.multiplyMe(-1),r},deltaEditConstant:function(e,r,n){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+r+", "+n);var i=this.rows.get(r);if(null!=i)return i.constant+=e,void(0>i.constant&&this._infeasibleRows.add(r));var s=this.rows.get(n);if(null!=s)return s.constant+=-e,void(0>s.constant&&this._infeasibleRows.add(n));var a=this.columns.get(n);a||console.log("columnVars is null -- tableau is:\n"+this),a.each(function(t){var r=this.rows.get(t),i=r.coefficientFor(n);r.constant+=i*e,t.isRestricted&&0>r.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var r=this._infeasibleRows.values()[0];this._infeasibleRows["delete"](r);var n=null,i=this.rows.get(r);if(i&&0>i.constant){var s,a=Number.MAX_VALUE,o=i.terms;if(o.each(function(r,i){if(i>0&&r.isPivotable){var o=e.coefficientFor(r);s=o/i,(a>s||t.approx(s,a)&&r.hashCode<n.hashCode)&&(n=r,a=s)}}),a==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(n,r)}}},newExpression:function(e,r,n){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var i=e.expression,s=new t.Expression(i.constant),a=new t.SlackVariable,o=new t.DummyVariable,l=new t.SlackVariable,u=new t.SlackVariable,c=i.terms;if(c.each(function(t,e){var r=this.rows.get(t);r?s.addExpression(r,e):s.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,a=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),s.setVariable(a,-1),this._markerVars.set(e,a),!e.required){++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(l,1);var h=this.rows.get(this._objective);h.setVariable(l,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,l),this.noteAddedVariable(l,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,o=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),s.setVariable(o,1),this._markerVars.set(e,o),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,u=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(u,-1),s.setVariable(l,1),this._markerVars.set(e,u);var h=this.rows.get(this._objective);t.trace&&console.log(h);var f=e.strength.symbolicWeight.value*e.weight;0==f&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+u+" and "+l+" with swCoeff == "+f)),h.setVariable(u,f),this.noteAddedVariable(u,this._objective),h.setVariable(l,f),this.noteAddedVariable(l,this._objective),this.insertErrorVar(e,l),this.insertErrorVar(e,u),e.isStayConstraint?(this._stayPlusErrorVars.push(u),this._stayMinusErrorVars.push(l)):e.isEditConstraint&&(r[0]=u,r[1]=l,n[0]=i.constant)}return 0>s.constant&&s.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+s),s},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var r=this.rows.get(e);t.assert(null!=r,"zRow != null");for(var i,s,a=null,o=null;;){if(i=0,s=r.terms,s.escapingEach(function(t,e){return t.isPivotable&&i>e?(i=e,a=t,{brk:1}):void 0},this),i>=-n)return;t.trace&&console.log("entryVar:",a,"objectiveCoeff:",i);var l=Number.MAX_VALUE,u=this.columns.get(a),c=0;if(u.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var r=this.rows.get(e),n=r.coefficientFor(a);t.trace&&t.traceprint("pivotable, coeff = "+n),0>n&&(c=-r.constant/n,(l>c||t.approx(c,l)&&e.hashCode<o.hashCode)&&(l=c,o=e))}},this),l==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(a,o),t.trace&&t.traceprint(""+this)}},pivot:function(e,r){t.trace&&console.log("pivot: ",e,r);var n=!1;n&&console.time(" SimplexSolver::pivot"),null==e&&console.warn("pivot: entryVar == null"),null==r&&console.warn("pivot: exitVar == null"),n&&console.time("  removeRow");var i=this.removeRow(r);n&&console.timeEnd("  removeRow"),n&&console.time("  changeSubject"),i.changeSubject(r,e),n&&console.timeEnd("  changeSubject"),n&&console.time("  substituteOut"),this.substituteOut(e,i),n&&console.timeEnd("  substituteOut"),n&&console.time("  addRow"),this.addRow(e,i),n&&console.timeEnd("  addRow"),n&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var r=this.rows.get(this._stayPlusErrorVars[e]);null==r&&(r=this.rows.get(this._stayMinusErrorVars[e])),null!=r&&(r.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,r){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+r);var n=this._errorVars.get(r);n||(n=new t.HashSet,this._errorVars.set(e,n)),n.add(r)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,r){function n(t){j>M||(M>j&&(j=M,F=[]),F.push(t))}function i(){var t,e,r,n,i;if(n=M,i=M,t=m(),null!==t){if(r=s(),null!==r)for(e=[];null!==r;)e.push(r),r=s();else e=null;null!==e?(r=m(),null!==r?t=[t,e,r]:(t=null,M=i)):(t=null,M=i)}else t=null,M=i;return null!==t&&(t=function(t,e){return e}(n,t[1])),null===t&&(M=n),t}function s(){var t,e,r,n;return r=M,n=M,t=H(),null!==t?(e=h(),null!==e?t=[t,e]:(t=null,M=n)):(t=null,M=n),null!==t&&(t=function(t,e){return e}(r,t[0])),null===t&&(M=r),t}function a(){var t;return e.length>M?(t=e.charAt(M),M++):(t=null,0===P&&n("any character")),t}function o(){var t;return/^[a-zA-Z]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===P&&n("[a-zA-Z]")),null===t&&(36===e.charCodeAt(M)?(t="$",M++):(t=null,0===P&&n('"$"')),null===t&&(95===e.charCodeAt(M)?(t="_",M++):(t=null,0===P&&n('"_"')))),t}function l(){var t;return P++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===P&&n("[\\t\\x0B\\f \\xA0\\uFEFF]")),P--,0===P&&null===t&&n("whitespace"),t}function u(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===P&&n("[\\n\\r\\u2028\\u2029]")),t}function c(){var t;return P++,10===e.charCodeAt(M)?(t="\n",M++):(t=null,0===P&&n('"\\n"')),null===t&&("\r\n"===e.substr(M,2)?(t="\r\n",M+=2):(t=null,0===P&&n('"\\r\\n"')),null===t&&(13===e.charCodeAt(M)?(t="\r",M++):(t=null,0===P&&n('"\\r"')),null===t&&(8232===e.charCodeAt(M)?(t="\u2028",M++):(t=null,0===P&&n('"\\u2028"')),null===t&&(8233===e.charCodeAt(M)?(t="\u2029",M++):(t=null,0===P&&n('"\\u2029"')))))),P--,0===P&&null===t&&n("end of line"),t}function h(){var t,r,i;return i=M,t=m(),null!==t?(59===e.charCodeAt(M)?(r=";",M++):(r=null,0===P&&n('";"')),null!==r?t=[t,r]:(t=null,M=i)):(t=null,M=i),null===t&&(i=M,t=b(),null!==t?(r=c(),null!==r?t=[t,r]:(t=null,M=i)):(t=null,M=i),null===t&&(i=M,t=m(),null!==t?(r=f(),null!==r?t=[t,r]:(t=null,M=i)):(t=null,M=i))),t}function f(){var t,r;return r=M,P++,e.length>M?(t=e.charAt(M),M++):(t=null,0===P&&n("any character")),P--,null===t?t="":(t=null,M=r),t}function p(){var t;return P++,t=d(),null===t&&(t=g()),P--,0===P&&null===t&&n("comment"),t}function d(){var t,r,i,s,o,l,u;if(o=M,"/*"===e.substr(M,2)?(t="/*",M+=2):(t=null,0===P&&n('"/*"')),null!==t){for(r=[],l=M,u=M,P++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),P--,null===i?i="":(i=null,M=u),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)r.push(i),l=M,u=M,P++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),P--,null===i?i="":(i=null,M=u),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==r?("*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),null!==i?t=[t,r,i]:(t=null,M=o)):(t=null,M=o)}else t=null,M=o;return t}function v(){var t,r,i,s,o,l,c;if(o=M,"/*"===e.substr(M,2)?(t="/*",M+=2):(t=null,0===P&&n('"/*"')),null!==t){for(r=[],l=M,c=M,P++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),null===i&&(i=u()),P--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)r.push(i),l=M,c=M,P++,"*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),null===i&&(i=u()),P--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==r?("*/"===e.substr(M,2)?(i="*/",M+=2):(i=null,0===P&&n('"*/"')),null!==i?t=[t,r,i]:(t=null,M=o)):(t=null,M=o)}else t=null,M=o;return t}function g(){var t,r,i,s,o,l,c;if(o=M,"//"===e.substr(M,2)?(t="//",M+=2):(t=null,0===P&&n('"//"')),null!==t){for(r=[],l=M,c=M,P++,i=u(),P--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==i;)r.push(i),l=M,c=M,P++,i=u(),P--,null===i?i="":(i=null,M=c),null!==i?(s=a(),null!==s?i=[i,s]:(i=null,M=l)):(i=null,M=l);null!==r?t=[t,r]:(t=null,M=o)}else t=null,M=o;return t}function b(){var t,e;for(t=[],e=l(),null===e&&(e=v(),null===e&&(e=g()));null!==e;)t.push(e),e=l(),null===e&&(e=v(),null===e&&(e=g()));return t}function m(){var t,e;for(t=[],e=l(),null===e&&(e=c(),null===e&&(e=p()));null!==e;)t.push(e),e=l(),null===e&&(e=c(),null===e&&(e=p()));return t}function y(){var t,e;return e=M,t=_(),null===t&&(t=w()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(e,t)),null===t&&(M=e),t}function w(){var t,r,i;if(i=M,/^[0-9]/.test(e.charAt(M))?(r=e.charAt(M),M++):(r=null,0===P&&n("[0-9]")),null!==r)for(t=[];null!==r;)t.push(r),/^[0-9]/.test(e.charAt(M))?(r=e.charAt(M),M++):(r=null,0===P&&n("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(i,t)),null===t&&(M=i),t}function _(){var t,r,i,s,a;return s=M,a=M,t=w(),null!==t?(46===e.charCodeAt(M)?(r=".",M++):(r=null,0===P&&n('"."')),null!==r?(i=w(),null!==i?t=[t,r,i]:(t=null,M=a)):(t=null,M=a)):(t=null,M=a),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(s,t)),null===t&&(M=s),t}function E(){var t,r,i,s;if(s=M,/^[\-+]/.test(e.charAt(M))?(t=e.charAt(M),M++):(t=null,0===P&&n("[\\-+]")),t=null!==t?t:"",null!==t){if(/^[0-9]/.test(e.charAt(M))?(i=e.charAt(M),M++):(i=null,0===P&&n("[0-9]")),null!==i)for(r=[];null!==i;)r.push(i),/^[0-9]/.test(e.charAt(M))?(i=e.charAt(M),M++):(i=null,0===P&&n("[0-9]"));else r=null;null!==r?t=[t,r]:(t=null,M=s)}else t=null,M=s;return t}function x(){var t,e;return P++,e=M,t=A(),null!==t&&(t=function(t,e){return e}(e,t)),null===t&&(M=e),P--,0===P&&null===t&&n("identifier"),t}function A(){var t,e,r,i,s;if(P++,i=M,s=M,t=o(),null!==t){for(e=[],r=o();null!==r;)e.push(r),r=o();null!==e?t=[t,e]:(t=null,M=s)}else t=null,M=s;return null!==t&&(t=function(t,e,r){return e+r.join("")}(i,t[0],t[1])),null===t&&(M=i),P--,0===P&&null===t&&n("identifier"),t}function V(){var t,r,i,s,a,o,l;return o=M,t=x(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(o,t)),null===t&&(M=o),null===t&&(t=y(),null===t&&(o=M,l=M,40===e.charCodeAt(M)?(t="(",M++):(t=null,0===P&&n('"("')),null!==t?(r=m(),null!==r?(i=H(),null!==i?(s=m(),null!==s?(41===e.charCodeAt(M)?(a=")",M++):(a=null,0===P&&n('")"')),null!==a?t=[t,r,i,s,a]:(t=null,M=l)):(t=null,M=l)):(t=null,M=l)):(t=null,M=l)):(t=null,M=l),null!==t&&(t=function(t,e){return e}(o,t[2])),null===t&&(M=o))),t}function C(){var t,e,r,n,i;return t=V(),null===t&&(n=M,i=M,t=S(),null!==t?(e=m(),null!==e?(r=C(),null!==r?t=[t,e,r]:(t=null,M=i)):(t=null,M=i)):(t=null,M=i),null!==t&&(t=function(t,e,r){return{type:"UnaryExpression",operator:e,expression:r}}(n,t[0],t[2])),null===t&&(M=n)),t}function S(){var t;return 43===e.charCodeAt(M)?(t="+",M++):(t=null,0===P&&n('"+"')),null===t&&(45===e.charCodeAt(M)?(t="-",M++):(t=null,0===P&&n('"-"')),null===t&&(33===e.charCodeAt(M)?(t="!",M++):(t=null,0===P&&n('"!"')))),t}function T(){var t,e,r,n,i,s,a,o,l;if(a=M,o=M,t=C(),null!==t){for(e=[],l=M,r=m(),null!==r?(n=I(),null!==n?(i=m(),null!==i?(s=C(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==r;)e.push(r),l=M,r=m(),null!==r?(n=I(),null!==n?(i=m(),null!==i?(s=C(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,r){for(var n=e,i=0;r.length>i;i++)n={type:"MultiplicativeExpression",operator:r[i][1],left:n,right:r[i][3]};return n}(a,t[0],t[1])),null===t&&(M=a),t}function I(){var t;return 42===e.charCodeAt(M)?(t="*",M++):(t=null,0===P&&n('"*"')),null===t&&(47===e.charCodeAt(M)?(t="/",M++):(t=null,0===P&&n('"/"'))),t}function O(){var t,e,r,n,i,s,a,o,l;if(a=M,o=M,t=T(),null!==t){for(e=[],l=M,r=m(),null!==r?(n=R(),null!==n?(i=m(),null!==i?(s=T(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==r;)e.push(r),l=M,r=m(),null!==r?(n=R(),null!==n?(i=m(),null!==i?(s=T(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,r){for(var n=e,i=0;r.length>i;i++)n={type:"AdditiveExpression",operator:r[i][1],left:n,right:r[i][3]};return n}(a,t[0],t[1])),null===t&&(M=a),t}function R(){var t;return 43===e.charCodeAt(M)?(t="+",M++):(t=null,0===P&&n('"+"')),null===t&&(45===e.charCodeAt(M)?(t="-",M++):(t=null,0===P&&n('"-"'))),t}function k(){var t,e,r,n,i,s,a,o,l;if(a=M,o=M,t=O(),null!==t){for(e=[],l=M,r=m(),null!==r?(n=z(),null!==n?(i=m(),null!==i?(s=O(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==r;)e.push(r),l=M,r=m(),null!==r?(n=z(),null!==n?(i=m(),null!==i?(s=O(),null!==s?r=[r,n,i,s]:(r=null,M=l)):(r=null,M=l)):(r=null,M=l)):(r=null,M=l);null!==e?t=[t,e]:(t=null,M=o)}else t=null,M=o;return null!==t&&(t=function(t,e,r){for(var n=e,i=0;r.length>i;i++)n={type:"Inequality",operator:r[i][1],left:n,right:r[i][3]};return n}(a,t[0],t[1])),null===t&&(M=a),t}function z(){var t;return"<="===e.substr(M,2)?(t="<=",M+=2):(t=null,0===P&&n('"<="')),null===t&&(">="===e.substr(M,2)?(t=">=",M+=2):(t=null,0===P&&n('">="')),null===t&&(60===e.charCodeAt(M)?(t="<",M++):(t=null,0===P&&n('"<"')),null===t&&(62===e.charCodeAt(M)?(t=">",M++):(t=null,0===P&&n('">"'))))),t}function H(){var t,r,i,s,a,o,l,u,c;if(l=M,u=M,t=k(),null!==t){for(r=[],c=M,i=m(),null!==i?("=="===e.substr(M,2)?(s="==",M+=2):(s=null,0===P&&n('"=="')),null!==s?(a=m(),null!==a?(o=k(),null!==o?i=[i,s,a,o]:(i=null,M=c)):(i=null,M=c)):(i=null,M=c)):(i=null,M=c);null!==i;)r.push(i),c=M,i=m(),null!==i?("=="===e.substr(M,2)?(s="==",M+=2):(s=null,0===P&&n('"=="')),null!==s?(a=m(),null!==a?(o=k(),null!==o?i=[i,s,a,o]:(i=null,M=c)):(i=null,M=c)):(i=null,M=c)):(i=null,M=c);null!==r?t=[t,r]:(t=null,M=u)}else t=null,M=u;return null!==t&&(t=function(t,e,r){for(var n=e,i=0;r.length>i;i++)n={type:"Equality",operator:r[i][1],left:n,right:r[i][3]};return n}(l,t[0],t[1])),null===t&&(M=l),t}function N(t){t.sort();for(var e=null,r=[],n=0;t.length>n;n++)t[n]!==e&&(r.push(t[n]),e=t[n]);return r}function q(){for(var t=1,r=1,n=!1,i=0;Math.max(M,j)>i;i++){var s=e.charAt(i);"\n"===s?(n||t++,r=1,n=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(t++,r=1,n=!0):(r++,n=!1)}return{line:t,column:r}}var L={start:i,Statement:s,SourceCharacter:a,IdentifierStart:o,WhiteSpace:l,LineTerminator:u,LineTerminatorSequence:c,EOS:h,EOF:f,Comment:p,MultiLineComment:d,MultiLineCommentNoLineTerminator:v,SingleLineComment:g,_:b,__:m,Literal:y,Integer:w,Real:_,SignedInteger:E,Identifier:x,IdentifierName:A,PrimaryExpression:V,UnaryExpression:C,UnaryOperator:S,MultiplicativeExpression:T,MultiplicativeOperator:I,AdditiveExpression:O,AdditiveOperator:R,InequalityExpression:k,InequalityOperator:z,LinearExpression:H};if(void 0!==r){
if(void 0===L[r])throw Error("Invalid rule name: "+t(r)+".")}else r="start";var M=0,P=0,j=0,F=[],W=L[r]();if(null===W||M!==e.length){var D=Math.max(M,j),U=e.length>D?e.charAt(D):null,Z=q();throw new this.SyntaxError(N(F),U,D,Z.line,Z.column)}return W},toSource:function(){return this._source}};return e.SyntaxError=function(e,r,n,i,s){function a(e,r){var n,i;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return i=r?t(r):"end of input","Expected "+n+" but "+i+" found."}this.name="SyntaxError",this.expected=e,this.found=r,this.message=a(e,r),this.offset=n,this.line=i,this.column=s},e.SyntaxError.prototype=Error.prototype,e}()}).call("undefined"!=typeof e?e.compiled=e:this)},{}]},{},[1])(1)})},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(n[s]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(t,e,r){e=t.exports=r(2)(),e.push([t.id,"html{box-sizing:border-box}body,html{padding:0;margin:0}*,:after,:before{box-sizing:inherit}",""])},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=h[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(o(n.parts[s],e))}else{for(var a=[],s=0;s<n.parts.length;s++)a.push(o(n.parts[s],e));h[n.id]={id:n.id,refs:1,parts:a}}}}function i(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],s=i[0],a=i[1],o=i[2],l=i[3],u={css:a,media:o,sourceMap:l};r[s]?r[s].parts.push(u):e.push(r[s]={id:s,parts:[u]})}return e}function s(){var t=document.createElement("style"),e=d();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=d();return t.rel="stylesheet",e.appendChild(t),t}function o(t,e){var r,n,i;if(e.singleton){var o=g++;r=v||(v=s()),n=l.bind(null,r,o,!1),i=l.bind(null,r,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=a(),n=c.bind(null,r),i=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(),n=u.bind(null,r),i=function(){r.parentNode.removeChild(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function l(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var s=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function u(t,e){var r=e.css,n=e.media;if(e.sourceMap,n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function c(t,e){var r=e.css,n=(e.media,e.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var h={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p());var r=i(t);return n(r,e),function(t){for(var s=[],a=0;a<r.length;a++){var o=r[a],l=h[o.id];l.refs--,s.push(l)}if(t){var u=i(t);n(u,e)}for(var a=0;a<s.length;a++){var l=s[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var b=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e,r){var n=r(3);"string"==typeof n&&(n=[[t.id,n,""]]),r(4)(n,{}),n.locals&&(t.exports=n.locals)},function(e,r){e.exports=t}])});
//# sourceMappingURL=react-autolayout.map